{"parents": [{"link": "../../../", "title": "Module code"}], "title": "pyaedt.modules.Mesh3DLayout", "body": "<h1>Source code for pyaedt.modules.Mesh3DLayout</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">This module contains these classes: `Mesh` and `Mesh3DOperation`.</span>\n\n<span class=\"sd\">This module provides all functionalities for creating and editing the mesh in the 3D tools.</span>\n\n<span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"kn\">import</span> <span class=\"n\">absolute_import</span>  <span class=\"c1\"># noreorder</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">collections</span> <span class=\"kn\">import</span> <span class=\"n\">OrderedDict</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.generic.DataHandlers</span> <span class=\"kn\">import</span> <span class=\"n\">_dict2arg</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.generic.general_methods</span> <span class=\"kn\">import</span> <span class=\"n\">PropsManager</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.generic.general_methods</span> <span class=\"kn\">import</span> <span class=\"n\">generate_unique_name</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.generic.general_methods</span> <span class=\"kn\">import</span> <span class=\"n\">pyaedt_function_handler</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.modules.Mesh</span> <span class=\"kn\">import</span> <span class=\"n\">MeshProps</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">Mesh3DOperation</span><span class=\"p\">(</span><span class=\"n\">PropsManager</span><span class=\"p\">,</span> <span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;Mesh3DOperation class.</span>\n\n<span class=\"sd\">    Parameters</span>\n<span class=\"sd\">    ----------</span>\n<span class=\"sd\">    app :</span>\n\n<span class=\"sd\">    hfss_setup_name : str</span>\n<span class=\"sd\">        Name of the HFSS setup.</span>\n<span class=\"sd\">    name :</span>\n\n<span class=\"sd\">    props : dict</span>\n<span class=\"sd\">        Dictionary of the properties.</span>\n\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">app</span><span class=\"p\">,</span> <span class=\"n\">hfss_setup_name</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">props</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_mesh3dlayout</span> <span class=\"o\">=</span> <span class=\"n\">app</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">name</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">props</span> <span class=\"o\">=</span> <span class=\"n\">MeshProps</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">props</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">hfss_setup_name</span> <span class=\"o\">=</span> <span class=\"n\">hfss_setup_name</span>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_get_args</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">props</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Retrieve arguments.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        props : dict</span>\n<span class=\"sd\">            Dictionary of the properties. The default is ``None``, in which</span>\n<span class=\"sd\">            case the default properties are retrieved.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when successful, ``False`` when failed.</span>\n\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">props</span><span class=\"p\">:</span>\n            <span class=\"n\">props</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">props</span>\n        <span class=\"n\">arg</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">&quot;NAME:&quot;</span> <span class=\"o\">+</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">]</span>\n        <span class=\"n\">_dict2arg</span><span class=\"p\">(</span><span class=\"n\">props</span><span class=\"p\">,</span> <span class=\"n\">arg</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">arg</span>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">create</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Create a mesh.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when successful, ``False`` when failed.</span>\n\n<span class=\"sd\">        References</span>\n<span class=\"sd\">        ----------</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; oModule.AddMeshOperation</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_mesh3dlayout</span><span class=\"o\">.</span><span class=\"n\">omeshmodule</span><span class=\"o\">.</span><span class=\"n\">AddMeshOperation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">hfss_setup_name</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_get_args</span><span class=\"p\">())</span>\n        <span class=\"k\">return</span> <span class=\"kc\">True</span>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">update</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Update the mesh.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when successful, ``False`` when failed.</span>\n\n<span class=\"sd\">        References</span>\n<span class=\"sd\">        ----------</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; oModule.EditMeshOperation</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_mesh3dlayout</span><span class=\"o\">.</span><span class=\"n\">omeshmodule</span><span class=\"o\">.</span><span class=\"n\">EditMeshOperation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">hfss_setup_name</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_get_args</span><span class=\"p\">())</span>\n        <span class=\"k\">return</span> <span class=\"kc\">True</span>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">delete</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Delete the mesh.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when successful, ``False`` when failed.</span>\n\n<span class=\"sd\">        References</span>\n<span class=\"sd\">        ----------</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; oModule.DeleteMeshOperation</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_mesh3dlayout</span><span class=\"o\">.</span><span class=\"n\">omeshmodule</span><span class=\"o\">.</span><span class=\"n\">DeleteMeshOperation</span><span class=\"p\">(</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">hfss_setup_name</span><span class=\"p\">,</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"kc\">True</span>\n\n\n<div class=\"viewcode-block\" id=\"Mesh3d\"><a class=\"viewcode-back\" href=\"../../../../API/_autosummary/pyaedt.modules.Mesh3DLayout.Mesh3d/#pyaedt.modules.Mesh3DLayout.Mesh3d\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">Mesh3d</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;Mesh class.</span>\n\n<span class=\"sd\">    Provides the main AEDT mesh functionality. The inherited class</span>\n<span class=\"sd\">    ``AEDTConfig`` contains all ``_desktop`` hierarchical calls needed by this class.</span>\n\n<span class=\"sd\">    Parameters</span>\n<span class=\"sd\">    ----------</span>\n<span class=\"sd\">    app : :class:`pyaedt.application.Analysis3DLayout.FieldAnalysis3DLayout`</span>\n\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">app</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_app</span> <span class=\"o\">=</span> <span class=\"n\">app</span>\n\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">logger</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_app</span><span class=\"o\">.</span><span class=\"n\">logger</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_odesign</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_app</span><span class=\"o\">.</span><span class=\"n\">_odesign</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">modeler</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_app</span><span class=\"o\">.</span><span class=\"n\">_modeler</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">meshoperations</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_get_design_mesh_operations</span><span class=\"p\">()</span>\n\n        <span class=\"k\">pass</span>\n\n<div class=\"viewcode-block\" id=\"Mesh3d.generate_mesh\"><a class=\"viewcode-back\" href=\"../../../../API/_autosummary/pyaedt.modules.Mesh3DLayout.Mesh3d.generate_mesh/#pyaedt.modules.Mesh3DLayout.Mesh3d.generate_mesh\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">generate_mesh</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Generate the mesh for a design.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        name : str</span>\n<span class=\"sd\">            Name of the design.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when successful, ``False`` when failed.</span>\n\n<span class=\"sd\">        References</span>\n<span class=\"sd\">        ----------</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; oDesign.GenerateMesh</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_app</span><span class=\"o\">.</span><span class=\"n\">oanalysis</span><span class=\"o\">.</span><span class=\"n\">GenerateMesh</span><span class=\"p\">([</span><span class=\"n\">name</span><span class=\"p\">])</span>\n        <span class=\"k\">return</span> <span class=\"kc\">True</span></div>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">omeshmodule</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;AEDT Mesh Module.</span>\n\n<span class=\"sd\">        References</span>\n<span class=\"sd\">        ----------</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; oDesign.GetModule(&quot;SolveSetups&quot;)</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_app</span><span class=\"o\">.</span><span class=\"n\">omeshmodule</span>\n\n<div class=\"viewcode-block\" id=\"Mesh3d.delete_mesh_operations\"><a class=\"viewcode-back\" href=\"../../../../API/_autosummary/pyaedt.modules.Mesh3DLayout.Mesh3d.delete_mesh_operations/#pyaedt.modules.Mesh3DLayout.Mesh3d.delete_mesh_operations\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">delete_mesh_operations</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">setup_name</span><span class=\"p\">,</span> <span class=\"n\">mesh_name</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Remove mesh operations from a setup.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        setup_name : str</span>\n<span class=\"sd\">            Name of the setup.</span>\n<span class=\"sd\">        mesh_name : str</span>\n<span class=\"sd\">            Name of the mesh.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when successful, ``False`` when failed.</span>\n\n<span class=\"sd\">        References</span>\n<span class=\"sd\">        ----------</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; oModule.DeleteMeshOperation</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">for</span> <span class=\"n\">el</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">meshoperations</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">el</span><span class=\"o\">.</span><span class=\"n\">hfss_setup_name</span> <span class=\"o\">==</span> <span class=\"n\">setup_name</span> <span class=\"ow\">and</span> <span class=\"n\">el</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"n\">mesh_name</span><span class=\"p\">:</span>\n                <span class=\"n\">el</span><span class=\"o\">.</span><span class=\"n\">delete</span><span class=\"p\">()</span>\n                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">meshoperations</span><span class=\"o\">.</span><span class=\"n\">remove</span><span class=\"p\">(</span><span class=\"n\">el</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"kc\">True</span></div>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_get_design_mesh_operations</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Retrieve design mesh operations.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        type</span>\n<span class=\"sd\">            Mesh operations object.</span>\n\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">meshops</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"k\">for</span> <span class=\"n\">ds</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_app</span><span class=\"o\">.</span><span class=\"n\">design_properties</span><span class=\"p\">[</span><span class=\"s2\">&quot;Setup&quot;</span><span class=\"p\">][</span><span class=\"s2\">&quot;Data&quot;</span><span class=\"p\">]:</span>\n                <span class=\"k\">if</span> <span class=\"s2\">&quot;MeshOps&quot;</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_app</span><span class=\"o\">.</span><span class=\"n\">design_properties</span><span class=\"p\">[</span><span class=\"s2\">&quot;Setup&quot;</span><span class=\"p\">][</span><span class=\"s2\">&quot;Data&quot;</span><span class=\"p\">][</span><span class=\"n\">ds</span><span class=\"p\">]:</span>\n                    <span class=\"k\">for</span> <span class=\"n\">ops</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_app</span><span class=\"o\">.</span><span class=\"n\">design_properties</span><span class=\"p\">[</span><span class=\"s2\">&quot;Setup&quot;</span><span class=\"p\">][</span><span class=\"s2\">&quot;Data&quot;</span><span class=\"p\">][</span><span class=\"n\">ds</span><span class=\"p\">][</span><span class=\"s2\">&quot;MeshOps&quot;</span><span class=\"p\">]:</span>\n                        <span class=\"n\">props</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_app</span><span class=\"o\">.</span><span class=\"n\">design_properties</span><span class=\"p\">[</span><span class=\"s2\">&quot;Setup&quot;</span><span class=\"p\">][</span><span class=\"s2\">&quot;Data&quot;</span><span class=\"p\">][</span><span class=\"n\">ds</span><span class=\"p\">][</span><span class=\"s2\">&quot;MeshOps&quot;</span><span class=\"p\">][</span><span class=\"n\">ops</span><span class=\"p\">]</span>\n                        <span class=\"n\">meshops</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">Mesh3DOperation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">ds</span><span class=\"p\">,</span> <span class=\"n\">ops</span><span class=\"p\">,</span> <span class=\"n\">props</span><span class=\"p\">))</span>\n        <span class=\"k\">except</span><span class=\"p\">:</span>\n            <span class=\"k\">pass</span>\n        <span class=\"k\">return</span> <span class=\"n\">meshops</span>\n\n<div class=\"viewcode-block\" id=\"Mesh3d.assign_length_mesh\"><a class=\"viewcode-back\" href=\"../../../../API/_autosummary/pyaedt.modules.Mesh3DLayout.Mesh3d.assign_length_mesh/#pyaedt.modules.Mesh3DLayout.Mesh3d.assign_length_mesh\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">assign_length_mesh</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">setupname</span><span class=\"p\">,</span> <span class=\"n\">layer_name</span><span class=\"p\">,</span> <span class=\"n\">net_name</span><span class=\"p\">,</span> <span class=\"n\">isinside</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">maxlength</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">maxel</span><span class=\"o\">=</span><span class=\"mi\">1000</span><span class=\"p\">,</span> <span class=\"n\">meshop_name</span><span class=\"o\">=</span><span class=\"kc\">None</span>\n    <span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Assign mesh length.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        setupname : str</span>\n<span class=\"sd\">            Name of the HFSS setup to apply.</span>\n<span class=\"sd\">        layer_name : str</span>\n<span class=\"sd\">           Name of the layer.</span>\n<span class=\"sd\">        net_name : str</span>\n<span class=\"sd\">           Name of the net.</span>\n<span class=\"sd\">        isinside : bool, optional</span>\n<span class=\"sd\">            Whether the mesh length is inside the selection. The default is ``True``.</span>\n<span class=\"sd\">        maxlength : float, optional</span>\n<span class=\"sd\">            Maximum length of the element. The default is ``1`` When ``None``, this</span>\n<span class=\"sd\">            parameter is disabled.</span>\n<span class=\"sd\">        maxel : int, optional</span>\n<span class=\"sd\">            Maximum number of elements. The default is ``1000``. When ``None``, this</span>\n<span class=\"sd\">            parameter is disabled.</span>\n<span class=\"sd\">        meshop_name : str, optional</span>\n<span class=\"sd\">            Name of the mesh operation. The default is ``None``.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        type</span>\n<span class=\"sd\">            Mesh operation object.</span>\n\n<span class=\"sd\">        References</span>\n<span class=\"sd\">        ----------</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; oModule.AddMeshOperation</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"n\">meshop_name</span><span class=\"p\">:</span>\n            <span class=\"k\">for</span> <span class=\"n\">el</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">meshoperations</span><span class=\"p\">:</span>\n                <span class=\"k\">if</span> <span class=\"n\">el</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"n\">meshop_name</span><span class=\"p\">:</span>\n                    <span class=\"n\">meshop_name</span> <span class=\"o\">=</span> <span class=\"n\">generate_unique_name</span><span class=\"p\">(</span><span class=\"n\">meshop_name</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">meshop_name</span> <span class=\"o\">=</span> <span class=\"n\">generate_unique_name</span><span class=\"p\">(</span><span class=\"s2\">&quot;Length&quot;</span><span class=\"p\">)</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">maxlength</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">restrictlength</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">restrictlength</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n        <span class=\"n\">length</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">modeler_variable</span><span class=\"p\">(</span><span class=\"n\">maxlength</span><span class=\"p\">)</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">maxel</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">restrictel</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>\n            <span class=\"n\">numel</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;1000&quot;</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">restrictel</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n            <span class=\"n\">numel</span> <span class=\"o\">=</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">maxel</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">maxlength</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span> <span class=\"ow\">and</span> <span class=\"n\">maxel</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s2\">&quot;mesh not assigned due to incorrect settings&quot;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span>\n        <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">layer_name</span><span class=\"p\">,</span> <span class=\"nb\">list</span><span class=\"p\">)</span> <span class=\"ow\">and</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">net_name</span><span class=\"p\">,</span> <span class=\"nb\">list</span><span class=\"p\">):</span>\n            <span class=\"n\">assignment</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">({</span><span class=\"s2\">&quot;MeshEntityInfo&quot;</span><span class=\"p\">:</span> <span class=\"p\">[]})</span>\n            <span class=\"k\">for</span> <span class=\"n\">l</span><span class=\"p\">,</span> <span class=\"n\">n</span> <span class=\"ow\">in</span> <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">layer_name</span><span class=\"p\">,</span> <span class=\"n\">net_name</span><span class=\"p\">):</span>\n                <span class=\"n\">meshbody</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">({</span><span class=\"s2\">&quot;Id&quot;</span><span class=\"p\">:</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Nam&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Layer&quot;</span><span class=\"p\">:</span> <span class=\"n\">l</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Net&quot;</span><span class=\"p\">:</span> <span class=\"n\">n</span><span class=\"p\">,</span> <span class=\"s2\">&quot;OrigNet&quot;</span><span class=\"p\">:</span> <span class=\"n\">n</span><span class=\"p\">})</span>\n                <span class=\"n\">assignment</span><span class=\"p\">[</span><span class=\"s2\">&quot;MeshEntityInfo&quot;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span>\n                    <span class=\"n\">OrderedDict</span><span class=\"p\">({</span><span class=\"s2\">&quot;IsFcSel&quot;</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"s2\">&quot;EntID&quot;</span><span class=\"p\">:</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;FcIDs&quot;</span><span class=\"p\">:</span> <span class=\"p\">[],</span> <span class=\"s2\">&quot;MeshBody&quot;</span><span class=\"p\">:</span> <span class=\"n\">meshbody</span><span class=\"p\">,</span> <span class=\"s2\">&quot;BBox&quot;</span><span class=\"p\">:</span> <span class=\"p\">[]})</span>\n                <span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">meshbody</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">({</span><span class=\"s2\">&quot;Id&quot;</span><span class=\"p\">:</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Nam&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Layer&quot;</span><span class=\"p\">:</span> <span class=\"n\">layer_name</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Net&quot;</span><span class=\"p\">:</span> <span class=\"n\">net_name</span><span class=\"p\">,</span> <span class=\"s2\">&quot;OrigNet&quot;</span><span class=\"p\">:</span> <span class=\"n\">net_name</span><span class=\"p\">})</span>\n            <span class=\"n\">assignment</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">(</span>\n                <span class=\"p\">{</span>\n                    <span class=\"s2\">&quot;MeshEntityInfo&quot;</span><span class=\"p\">:</span> <span class=\"n\">OrderedDict</span><span class=\"p\">(</span>\n                        <span class=\"p\">{</span><span class=\"s2\">&quot;IsFcSel&quot;</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"s2\">&quot;EntID&quot;</span><span class=\"p\">:</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;FcIDs&quot;</span><span class=\"p\">:</span> <span class=\"p\">[],</span> <span class=\"s2\">&quot;MeshBody&quot;</span><span class=\"p\">:</span> <span class=\"n\">meshbody</span><span class=\"p\">,</span> <span class=\"s2\">&quot;BBox&quot;</span><span class=\"p\">:</span> <span class=\"p\">[]}</span>\n                    <span class=\"p\">)</span>\n                <span class=\"p\">}</span>\n            <span class=\"p\">)</span>\n        <span class=\"n\">props</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">(</span>\n            <span class=\"p\">{</span>\n                <span class=\"s2\">&quot;Type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;LengthBased&quot;</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;RefineInside&quot;</span><span class=\"p\">:</span> <span class=\"n\">isinside</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;Enabled&quot;</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;Assignment&quot;</span><span class=\"p\">:</span> <span class=\"n\">assignment</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;Region&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;RestrictElem&quot;</span><span class=\"p\">:</span> <span class=\"n\">restrictel</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;NumMaxElem&quot;</span><span class=\"p\">:</span> <span class=\"n\">numel</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;RestrictLength&quot;</span><span class=\"p\">:</span> <span class=\"n\">restrictlength</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;MaxLength&quot;</span><span class=\"p\">:</span> <span class=\"n\">length</span><span class=\"p\">,</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"n\">mop</span> <span class=\"o\">=</span> <span class=\"n\">Mesh3DOperation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">setupname</span><span class=\"p\">,</span> <span class=\"n\">meshop_name</span><span class=\"p\">,</span> <span class=\"n\">props</span><span class=\"p\">)</span>\n        <span class=\"n\">mop</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">meshoperations</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">mop</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">mop</span></div>\n\n<div class=\"viewcode-block\" id=\"Mesh3d.assign_skin_depth\"><a class=\"viewcode-back\" href=\"../../../../API/_autosummary/pyaedt.modules.Mesh3DLayout.Mesh3d.assign_skin_depth/#pyaedt.modules.Mesh3DLayout.Mesh3d.assign_skin_depth\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">assign_skin_depth</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">setupname</span><span class=\"p\">,</span>\n        <span class=\"n\">layer_name</span><span class=\"p\">,</span>\n        <span class=\"n\">net_name</span><span class=\"p\">,</span>\n        <span class=\"n\">skindepth</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n        <span class=\"n\">maxelements</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">triangulation_max_length</span><span class=\"o\">=</span><span class=\"mf\">0.1</span><span class=\"p\">,</span>\n        <span class=\"n\">numlayers</span><span class=\"o\">=</span><span class=\"s2\">&quot;2&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">meshop_name</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Assign skin depth to the mesh.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        setupname : str</span>\n<span class=\"sd\">            Name of the setup.</span>\n<span class=\"sd\">        layer_name : str</span>\n<span class=\"sd\">            Name of the layer.</span>\n<span class=\"sd\">        net_name : str</span>\n<span class=\"sd\">            Name of the net.</span>\n<span class=\"sd\">        skindepth : int, optional</span>\n<span class=\"sd\">            Depth of the skin. The default is ``1``.</span>\n<span class=\"sd\">        maxelements : float, optional</span>\n<span class=\"sd\">            Maximum element length. The default is ``None``, which disables this parameter.</span>\n<span class=\"sd\">        triangulation_max_length : float, optional</span>\n<span class=\"sd\">            Maximum surface triangulation length. The default is ``0.1``.</span>\n<span class=\"sd\">        numlayers : str, optional</span>\n<span class=\"sd\">            Number of layers. The default is ``&quot;2&quot;``.</span>\n<span class=\"sd\">        meshop_name : str, optional</span>\n<span class=\"sd\">             Name of the mesh operation. The default is ``None``.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        type</span>\n<span class=\"sd\">            Mesh operation object.</span>\n\n<span class=\"sd\">        References</span>\n<span class=\"sd\">        ----------</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; oModule.AddMeshOperation</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"n\">meshop_name</span><span class=\"p\">:</span>\n            <span class=\"k\">for</span> <span class=\"n\">el</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">meshoperations</span><span class=\"p\">:</span>\n                <span class=\"k\">if</span> <span class=\"n\">el</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"n\">meshop_name</span><span class=\"p\">:</span>\n                    <span class=\"n\">meshop_name</span> <span class=\"o\">=</span> <span class=\"n\">generate_unique_name</span><span class=\"p\">(</span><span class=\"n\">meshop_name</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">meshop_name</span> <span class=\"o\">=</span> <span class=\"n\">generate_unique_name</span><span class=\"p\">(</span><span class=\"s2\">&quot;SkinDepth&quot;</span><span class=\"p\">)</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">maxelements</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">restrictlength</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>\n            <span class=\"n\">maxelements</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;1000&quot;</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">restrictlength</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n        <span class=\"n\">skindepth</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">modeler_variable</span><span class=\"p\">(</span><span class=\"n\">skindepth</span><span class=\"p\">)</span>\n        <span class=\"n\">triangulation_max_length</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">modeler_variable</span><span class=\"p\">(</span><span class=\"n\">triangulation_max_length</span><span class=\"p\">)</span>\n        <span class=\"n\">meshbody</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">({</span><span class=\"s2\">&quot;Id&quot;</span><span class=\"p\">:</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Nam&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Layer&quot;</span><span class=\"p\">:</span> <span class=\"n\">layer_name</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Net&quot;</span><span class=\"p\">:</span> <span class=\"n\">net_name</span><span class=\"p\">,</span> <span class=\"s2\">&quot;OrigNet&quot;</span><span class=\"p\">:</span> <span class=\"n\">net_name</span><span class=\"p\">})</span>\n        <span class=\"n\">assignment</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">(</span>\n            <span class=\"p\">{</span>\n                <span class=\"s2\">&quot;MeshEntityInfo&quot;</span><span class=\"p\">:</span> <span class=\"n\">OrderedDict</span><span class=\"p\">(</span>\n                    <span class=\"p\">{</span><span class=\"s2\">&quot;IsFcSel&quot;</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"s2\">&quot;EntID&quot;</span><span class=\"p\">:</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">&quot;FcIDs&quot;</span><span class=\"p\">:</span> <span class=\"p\">[],</span> <span class=\"s2\">&quot;MeshBody&quot;</span><span class=\"p\">:</span> <span class=\"n\">meshbody</span><span class=\"p\">,</span> <span class=\"s2\">&quot;BBox&quot;</span><span class=\"p\">:</span> <span class=\"p\">[]}</span>\n                <span class=\"p\">)</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">)</span>\n        <span class=\"n\">props</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">(</span>\n            <span class=\"p\">{</span>\n                <span class=\"s2\">&quot;Type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;SkinDepthLengthBased&quot;</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;Enabled&quot;</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;Assignment&quot;</span><span class=\"p\">:</span> <span class=\"n\">assignment</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;Region&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;SkinDepth&quot;</span><span class=\"p\">:</span> <span class=\"n\">skindepth</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;SurfTriMaxLength&quot;</span><span class=\"p\">:</span> <span class=\"n\">triangulation_max_length</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;NumLayers&quot;</span><span class=\"p\">:</span> <span class=\"n\">numlayers</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;RestrictElem&quot;</span><span class=\"p\">:</span> <span class=\"n\">restrictlength</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;NumMaxElem&quot;</span><span class=\"p\">:</span> <span class=\"n\">maxelements</span><span class=\"p\">,</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"n\">mop</span> <span class=\"o\">=</span> <span class=\"n\">Mesh3DOperation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">setupname</span><span class=\"p\">,</span> <span class=\"n\">meshop_name</span><span class=\"p\">,</span> <span class=\"n\">props</span><span class=\"p\">)</span>\n        <span class=\"n\">mop</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">meshoperations</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">mop</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">mop</span></div></div>\n</pre></div>", "current_page_name": "_modules/pyaedt/modules/Mesh3DLayout", "sidebars": ["search-field.html", "sidebar-nav-bs.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.12", "theme_show_toc_level": 1, "theme_logo": {}}