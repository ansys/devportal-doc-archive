{"parents": [{"link": "../../", "title": "Examples"}, {"link": "../", "title": "Twin Builder examples"}], "prev": {"link": "../", "title": "Twin Builder examples"}, "next": {"link": "../02-Wiring_A_Rectifier/", "title": "Twin Builder: wiring a rectifier with a capacitor filter"}, "title": "Twin Builder: RC circuit design anaysis", "meta": null, "body": "<div class=\"sphx-glr-download-link-note admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Click <a class=\"reference internal\" href=\"#sphx-glr-download-examples-07-twinbuilder-01-rc-circuit-example-py\"><span class=\"std std-ref\">here</span></a>\nto download the full example code</p>\n</div>\n<section class=\"sphx-glr-example-title\" id=\"twin-builder-rc-circuit-design-anaysis\">\n<span id=\"sphx-glr-examples-07-twinbuilder-01-rc-circuit-example-py\"></span><h1>Twin Builder: RC circuit design anaysis<a class=\"headerlink\" href=\"#twin-builder-rc-circuit-design-anaysis\" title=\"Permalink to this heading\">#</a></h1>\n<p>This example shows how you can use PyAEDT to create a Twin Builder design\nand run a Twin Builder time-domain simulation.</p>\n<section id=\"perform-required-imports\">\n<h2>Perform required imports<a class=\"headerlink\" href=\"#perform-required-imports\" title=\"Permalink to this heading\">#</a></h2>\n<p>Perform required imports.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">os</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pyaedt</span>\n</pre></div>\n</div>\n</section>\n<section id=\"select-version-and-set-launch-options\">\n<h2>Select version and set launch options<a class=\"headerlink\" href=\"#select-version-and-set-launch-options\" title=\"Permalink to this heading\">#</a></h2>\n<p>Select the Twin Builder version and set the launch options. The following code\nlaunches Twin Builder 2022 R2 in graphical mode.</p>\n<p>You can change the Boolean parameter <code class=\"docutils literal notranslate\"><span class=\"pre\">non_graphical</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> to launch\nTwin Builder in non-graphical mode. You can also change the Boolean parameter\n<code class=\"docutils literal notranslate\"><span class=\"pre\">new_thread</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> to launch Twin Builder in an existing AEDT session\nif one is running.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">desktop_version</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;2022.2&quot;</span>\n\n<span class=\"n\">non_graphical</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getenv</span><span class=\"p\">(</span><span class=\"s2\">&quot;PYAEDT_NON_GRAPHICAL&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;False&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span> <span class=\"ow\">in</span> <span class=\"p\">(</span><span class=\"s2\">&quot;true&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;1&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;t&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">new_thread</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n</pre></div>\n</div>\n</section>\n<section id=\"launch-twin-builder\">\n<h2>Launch Twin Builder<a class=\"headerlink\" href=\"#launch-twin-builder\" title=\"Permalink to this heading\">#</a></h2>\n<p>Launch Twin Builder using an implicit declaration and add a new design with\na default setup.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">tb</span> <span class=\"o\">=</span> <span class=\"n\">pyaedt</span><span class=\"o\">.</span><span class=\"n\">TwinBuilder</span><span class=\"p\">(</span><span class=\"n\">projectname</span><span class=\"o\">=</span><span class=\"n\">pyaedt</span><span class=\"o\">.</span><span class=\"n\">generate_unique_project_name</span><span class=\"p\">(),</span>\n                        <span class=\"n\">specified_version</span><span class=\"o\">=</span><span class=\"n\">desktop_version</span><span class=\"p\">,</span>\n                        <span class=\"n\">non_graphical</span><span class=\"o\">=</span><span class=\"n\">non_graphical</span><span class=\"p\">,</span>\n                        <span class=\"n\">new_desktop_session</span><span class=\"o\">=</span><span class=\"n\">new_thread</span>\n                        <span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n<section id=\"create-components-for-rc-circuit\">\n<h2>Create components for RC circuit<a class=\"headerlink\" href=\"#create-components-for-rc-circuit\" title=\"Permalink to this heading\">#</a></h2>\n<p>Create components for an RC circuit driven by a pulse voltage source. Define\nthe grid distance for ease in calculations.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">G</span> <span class=\"o\">=</span> <span class=\"mf\">0.00254</span>\n\n<span class=\"c1\"># Create components, such as a voltage source, resistor, and capacitor.</span>\n\n<span class=\"n\">source</span> <span class=\"o\">=</span> <span class=\"n\">tb</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">schematic</span><span class=\"o\">.</span><span class=\"n\">create_voltage_source</span><span class=\"p\">(</span><span class=\"s2\">&quot;E1&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;EPULSE&quot;</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"n\">resistor</span> <span class=\"o\">=</span> <span class=\"n\">tb</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">schematic</span><span class=\"o\">.</span><span class=\"n\">create_resistor</span><span class=\"p\">(</span><span class=\"s2\">&quot;R1&quot;</span><span class=\"p\">,</span> <span class=\"mi\">10000</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">10</span> <span class=\"o\">*</span> <span class=\"n\">G</span><span class=\"p\">,</span> <span class=\"mi\">10</span> <span class=\"o\">*</span> <span class=\"n\">G</span><span class=\"p\">],</span> <span class=\"mi\">90</span><span class=\"p\">)</span>\n<span class=\"n\">capacitor</span> <span class=\"o\">=</span> <span class=\"n\">tb</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">schematic</span><span class=\"o\">.</span><span class=\"n\">create_capacitor</span><span class=\"p\">(</span><span class=\"s2\">&quot;C1&quot;</span><span class=\"p\">,</span> <span class=\"mf\">1e-6</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">20</span> <span class=\"o\">*</span> <span class=\"n\">G</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n</section>\n<section id=\"create-ground\">\n<h2>Create ground<a class=\"headerlink\" href=\"#create-ground\" title=\"Permalink to this heading\">#</a></h2>\n<p>Create a ground, which is needed for an analog analysis.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">gnd</span> <span class=\"o\">=</span> <span class=\"n\">tb</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">components</span><span class=\"o\">.</span><span class=\"n\">create_gnd</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">10</span> <span class=\"o\">*</span> <span class=\"n\">G</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n</section>\n<section id=\"connect-components\">\n<h2>Connect components<a class=\"headerlink\" href=\"#connect-components\" title=\"Permalink to this heading\">#</a></h2>\n<p>Connects components with pins.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">source</span><span class=\"o\">.</span><span class=\"n\">pins</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">connect_to_component</span><span class=\"p\">(</span><span class=\"n\">resistor</span><span class=\"o\">.</span><span class=\"n\">pins</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"n\">resistor</span><span class=\"o\">.</span><span class=\"n\">pins</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">connect_to_component</span><span class=\"p\">(</span><span class=\"n\">capacitor</span><span class=\"o\">.</span><span class=\"n\">pins</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"n\">capacitor</span><span class=\"o\">.</span><span class=\"n\">pins</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">connect_to_component</span><span class=\"p\">(</span><span class=\"n\">source</span><span class=\"o\">.</span><span class=\"n\">pins</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"n\">source</span><span class=\"o\">.</span><span class=\"n\">pins</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">connect_to_component</span><span class=\"p\">(</span><span class=\"n\">gnd</span><span class=\"o\">.</span><span class=\"n\">pins</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n<div class=\"sphx-glr-script-out highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>True\n</pre></div>\n</div>\n</section>\n<section id=\"parametrize-transient-setup\">\n<h2>Parametrize transient setup<a class=\"headerlink\" href=\"#parametrize-transient-setup\" title=\"Permalink to this heading\">#</a></h2>\n<p>Parametrize the default transient setup by setting the end time.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">tb</span><span class=\"o\">.</span><span class=\"n\">set_end_time</span><span class=\"p\">(</span><span class=\"s2\">&quot;300ms&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"sphx-glr-script-out highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>True\n</pre></div>\n</div>\n</section>\n<section id=\"solve-transient-setup\">\n<h2>Solve transient setup<a class=\"headerlink\" href=\"#solve-transient-setup\" title=\"Permalink to this heading\">#</a></h2>\n<p>Solve the transient setup.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">tb</span><span class=\"o\">.</span><span class=\"n\">analyze_setup</span><span class=\"p\">(</span><span class=\"s2\">&quot;TR&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"sphx-glr-script-out highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>True\n</pre></div>\n</div>\n</section>\n<section id=\"get-report-data-and-plot-using-matplotlib\">\n<h2>Get report data and plot using Matplotlib<a class=\"headerlink\" href=\"#get-report-data-and-plot-using-matplotlib\" title=\"Permalink to this heading\">#</a></h2>\n<p>Get report data and plot it using Matplotlib. The following code gets and plots\nthe values for the voltage on the pulse voltage source and the values for the\nvoltage on the capacitor in the RC circuit.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">E_Value</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;E1.V&quot;</span>\n<span class=\"n\">C_Value</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;C1.V&quot;</span>\n\n<span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">tb</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">get_solution_data</span><span class=\"p\">([</span><span class=\"n\">E_Value</span><span class=\"p\">,</span> <span class=\"n\">C_Value</span><span class=\"p\">],</span> <span class=\"s2\">&quot;TR&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Time&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">([</span><span class=\"n\">E_Value</span><span class=\"p\">,</span> <span class=\"n\">C_Value</span><span class=\"p\">],</span> <span class=\"n\">xlabel</span><span class=\"o\">=</span><span class=\"s2\">&quot;Time&quot;</span><span class=\"p\">,</span> <span class=\"n\">ylabel</span><span class=\"o\">=</span><span class=\"s2\">&quot;Capacitor Voltage vs Input Pulse&quot;</span><span class=\"p\">)</span>\n\n<span class=\"n\">tb</span><span class=\"o\">.</span><span class=\"n\">save_project</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<img src=\"../../_images/sphx_glr_01-RC_Circuit_Example_001.png\" srcset=\"../../_images/sphx_glr_01-RC_Circuit_Example_001.png\" alt=\"Simulation Results Plot\" class = \"sphx-glr-single-img\"/><div class=\"sphx-glr-script-out highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>True\n</pre></div>\n</div>\n</section>\n<section id=\"close-twin-builder\">\n<h2>Close Twin Builder<a class=\"headerlink\" href=\"#close-twin-builder\" title=\"Permalink to this heading\">#</a></h2>\n<p>After the simulation completes, you can close Twin Builder or release it.\nAll methods provide for saving the project before closing.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">tb</span><span class=\"o\">.</span><span class=\"n\">release_desktop</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"sphx-glr-script-out highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>True\n</pre></div>\n</div>\n<p class=\"sphx-glr-timing\"><strong>Total running time of the script:</strong> ( 0 minutes  15.837 seconds)</p>\n<div class=\"sphx-glr-footer sphx-glr-footer-example docutils container\" id=\"sphx-glr-download-examples-07-twinbuilder-01-rc-circuit-example-py\">\n<div class=\"sphx-glr-download sphx-glr-download-python docutils container\">\n<p><a class=\"reference download internal\" download=\"\" href=\"../../../_downloads/9c6a85186daef62fda0577e34dc3f6ec/01-RC_Circuit_Example.py\"><code class=\"xref download docutils literal notranslate\"><span class=\"pre\">Download</span> <span class=\"pre\">Python</span> <span class=\"pre\">source</span> <span class=\"pre\">code:</span> <span class=\"pre\">01-RC_Circuit_Example.py</span></code></a></p>\n</div>\n<div class=\"sphx-glr-download sphx-glr-download-jupyter docutils container\">\n<p><a class=\"reference download internal\" download=\"\" href=\"../../../_downloads/06c8adebbb1f029f69a0df82a3c78eb5/01-RC_Circuit_Example.ipynb\"><code class=\"xref download docutils literal notranslate\"><span class=\"pre\">Download</span> <span class=\"pre\">Jupyter</span> <span class=\"pre\">notebook:</span> <span class=\"pre\">01-RC_Circuit_Example.ipynb</span></code></a></p>\n</div>\n</div>\n<p class=\"sphx-glr-signature\"><a class=\"reference external\" href=\"https://sphinx-gallery.github.io\">Gallery generated by Sphinx-Gallery</a></p>\n</section>\n</section>\n", "metatags": "<meta name=\"generator\" content=\"Docutils 0.19: https://docutils.sourceforge.io/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["examples/07-TwinBuilder/02-Wiring_A_Rectifier", "Twin Builder: wiring a rectifier with a capacitor filter", "N", "next"], ["examples/07-TwinBuilder/index", "Twin Builder examples", "P", "previous"]], "sourcename": "examples/07-TwinBuilder/01-RC_Circuit_Example.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Twin Builder: RC circuit design anaysis</a><ul>\n<li><a class=\"reference internal\" href=\"#perform-required-imports\">Perform required imports</a></li>\n<li><a class=\"reference internal\" href=\"#select-version-and-set-launch-options\">Select version and set launch options</a></li>\n<li><a class=\"reference internal\" href=\"#launch-twin-builder\">Launch Twin Builder</a></li>\n<li><a class=\"reference internal\" href=\"#create-components-for-rc-circuit\">Create components for RC circuit</a></li>\n<li><a class=\"reference internal\" href=\"#create-ground\">Create ground</a></li>\n<li><a class=\"reference internal\" href=\"#connect-components\">Connect components</a></li>\n<li><a class=\"reference internal\" href=\"#parametrize-transient-setup\">Parametrize transient setup</a></li>\n<li><a class=\"reference internal\" href=\"#solve-transient-setup\">Solve transient setup</a></li>\n<li><a class=\"reference internal\" href=\"#get-report-data-and-plot-using-matplotlib\">Get report data and plot using Matplotlib</a></li>\n<li><a class=\"reference internal\" href=\"#close-twin-builder\">Close Twin Builder</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "examples/07-TwinBuilder/01-RC_Circuit_Example", "sidebars": ["search-field.html", "sidebar-nav-bs.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "theme_show_toc_level": 1, "theme_logo": {}}