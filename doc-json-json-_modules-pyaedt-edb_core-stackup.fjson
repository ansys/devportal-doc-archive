{"parents": [{"link": "../../../", "title": "Module code"}], "title": "pyaedt.edb_core.stackup", "body": "<h1>Source code for pyaedt.edb_core.stackup</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">This module contains the `EdbStackup` class.</span>\n\n<span class=\"sd\">&quot;&quot;&quot;</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"kn\">import</span> <span class=\"n\">absolute_import</span>  <span class=\"c1\"># noreorder</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">json</span>\n<span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n<span class=\"kn\">import</span> <span class=\"nn\">math</span>\n<span class=\"kn\">import</span> <span class=\"nn\">os.path</span>\n<span class=\"kn\">import</span> <span class=\"nn\">warnings</span>\n<span class=\"kn\">from</span> <span class=\"nn\">collections</span> <span class=\"kn\">import</span> <span class=\"n\">OrderedDict</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.edb_core.edb_data.layer_data</span> <span class=\"kn\">import</span> <span class=\"n\">EDBLayers</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.edb_core.edb_data.layer_data</span> <span class=\"kn\">import</span> <span class=\"n\">LayerEdbClass</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.edb_core.general</span> <span class=\"kn\">import</span> <span class=\"n\">convert_py_list_to_net_list</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.generic.general_methods</span> <span class=\"kn\">import</span> <span class=\"n\">is_ironpython</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.generic.general_methods</span> <span class=\"kn\">import</span> <span class=\"n\">pyaedt_function_handler</span>\n\n<span class=\"n\">pd</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n<span class=\"n\">np</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n<span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">is_ironpython</span><span class=\"p\">:</span>\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n    <span class=\"k\">except</span> <span class=\"ne\">ImportError</span><span class=\"p\">:</span>\n        <span class=\"n\">np</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"k\">as</span> <span class=\"nn\">pd</span>\n    <span class=\"k\">except</span> <span class=\"ne\">ImportError</span><span class=\"p\">:</span>\n        <span class=\"n\">pd</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n\n\n<span class=\"n\">logger</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n\n<div class=\"viewcode-block\" id=\"Stackup\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup/#pyaedt.edb_core.stackup.Stackup\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">Stackup</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;Manages EDB methods for stackup accessible from `Edb.stackup` property.&quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__getitem__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layers</span><span class=\"p\">[</span><span class=\"n\">item</span><span class=\"p\">]</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">pedb</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span> <span class=\"o\">=</span> <span class=\"n\">pedb</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_logger</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">logger</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">layer_types</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Layer types.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        type</span>\n<span class=\"sd\">            Types of layers.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_int_to_layer_types</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">val</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">SignalLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">DielectricLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">2</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">ConductingLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">3</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">AirlinesLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">4</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">ErrorsLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">5</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">SymbolLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">6</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">MeasureLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">8</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">AssemblyLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">9</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">SilkscreenLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">10</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">SolderMaskLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">11</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">SolderPasteLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">12</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">GlueLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">13</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">WirebondLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">14</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">UserLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">16</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">SIwaveHFSSSolverRegions</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">17</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">PostprocessingLayer</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">18</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">LayerTypesCount</span>\n        <span class=\"k\">elif</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layer_types</span><span class=\"o\">.</span><span class=\"n\">UndefinedLayerType</span>\n\n<div class=\"viewcode-block\" id=\"Stackup.create_symmetric_stackup\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.create_symmetric_stackup/#pyaedt.edb_core.stackup.Stackup.create_symmetric_stackup\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">create_symmetric_stackup</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">layer_count</span><span class=\"p\">,</span>\n        <span class=\"n\">inner_layer_thickness</span><span class=\"o\">=</span><span class=\"s2\">&quot;17um&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">outer_layer_thickness</span><span class=\"o\">=</span><span class=\"s2\">&quot;50um&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">dielectric_thickness</span><span class=\"o\">=</span><span class=\"s2\">&quot;100um&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">dielectric_material</span><span class=\"o\">=</span><span class=\"s2\">&quot;fr4_epoxy&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">soldermask</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"n\">soldermask_thickness</span><span class=\"o\">=</span><span class=\"s2\">&quot;20um&quot;</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>  <span class=\"c1\"># pragma: no cover</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Create a symmetric stackup.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        layer_count : int</span>\n<span class=\"sd\">            Number of layer count.</span>\n<span class=\"sd\">        inner_layer_thickness : str, float, optional</span>\n<span class=\"sd\">            Thickness of inner conductor layer.</span>\n<span class=\"sd\">        outer_layer_thickness : str, float, optional</span>\n<span class=\"sd\">            Thickness of outer conductor layer.</span>\n<span class=\"sd\">        dielectric_thickness : str, float, optional</span>\n<span class=\"sd\">            Thickness of dielectric layer.</span>\n<span class=\"sd\">        dielectric_material : str, optional</span>\n<span class=\"sd\">            Material of dielectric layer.</span>\n<span class=\"sd\">        soldermask : bool, optional</span>\n<span class=\"sd\">            Whether to create soldermask layers. The default is``True``.</span>\n<span class=\"sd\">        soldermask_thickness : str, optional</span>\n<span class=\"sd\">            Thickness of soldermask layer.</span>\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">np</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s2\">&quot;Numpy is needed. Please, install it first.&quot;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">layer_count</span> <span class=\"o\">%</span> <span class=\"mi\">2</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span>\n\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n            <span class=\"s2\">&quot;BOT&quot;</span><span class=\"p\">,</span>\n            <span class=\"kc\">None</span><span class=\"p\">,</span>\n            <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"s2\">&quot;copper&quot;</span><span class=\"p\">,</span>\n            <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">outer_layer_thickness</span><span class=\"p\">,</span>\n            <span class=\"n\">fillMaterial</span><span class=\"o\">=</span><span class=\"n\">dielectric_material</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n            <span class=\"s2\">&quot;D&quot;</span> <span class=\"o\">+</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">layer_count</span> <span class=\"o\">/</span> <span class=\"mi\">2</span><span class=\"p\">)),</span>\n            <span class=\"kc\">None</span><span class=\"p\">,</span>\n            <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"s2\">&quot;fr4_epoxy&quot;</span><span class=\"p\">,</span>\n            <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">dielectric_thickness</span><span class=\"p\">,</span>\n            <span class=\"n\">layer_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;dielectric&quot;</span><span class=\"p\">,</span>\n            <span class=\"n\">fillMaterial</span><span class=\"o\">=</span><span class=\"n\">dielectric_material</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n            <span class=\"s2\">&quot;TOP&quot;</span><span class=\"p\">,</span>\n            <span class=\"kc\">None</span><span class=\"p\">,</span>\n            <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"s2\">&quot;copper&quot;</span><span class=\"p\">,</span>\n            <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">outer_layer_thickness</span><span class=\"p\">,</span>\n            <span class=\"n\">fillMaterial</span><span class=\"o\">=</span><span class=\"n\">dielectric_material</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">soldermask</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n                <span class=\"s2\">&quot;SMT&quot;</span><span class=\"p\">,</span>\n                <span class=\"kc\">None</span><span class=\"p\">,</span>\n                <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"s2\">&quot;solder_mask&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">soldermask_thickness</span><span class=\"p\">,</span>\n                <span class=\"n\">layer_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;dielectric&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">fillMaterial</span><span class=\"o\">=</span><span class=\"n\">dielectric_material</span><span class=\"p\">,</span>\n            <span class=\"p\">)</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n                <span class=\"s2\">&quot;SMB&quot;</span><span class=\"p\">,</span>\n                <span class=\"kc\">None</span><span class=\"p\">,</span>\n                <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"s2\">&quot;solder_mask&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">soldermask_thickness</span><span class=\"p\">,</span>\n                <span class=\"n\">layer_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;dielectric&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">fillMaterial</span><span class=\"o\">=</span><span class=\"n\">dielectric_material</span><span class=\"p\">,</span>\n                <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">&quot;add_on_bottom&quot;</span><span class=\"p\">,</span>\n            <span class=\"p\">)</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"p\">[</span><span class=\"s2\">&quot;TOP&quot;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">dielectric_fill</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;solder_mask&quot;</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"p\">[</span><span class=\"s2\">&quot;BOT&quot;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">dielectric_fill</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;solder_mask&quot;</span>\n\n        <span class=\"k\">for</span> <span class=\"n\">layer_num</span> <span class=\"ow\">in</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">arange</span><span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">layer_count</span> <span class=\"o\">/</span> <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">):</span>\n            <span class=\"c1\"># Generate upper half</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n                <span class=\"s2\">&quot;L&quot;</span> <span class=\"o\">+</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">layer_num</span><span class=\"p\">),</span>\n                <span class=\"s2\">&quot;TOP&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"s2\">&quot;copper&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">inner_layer_thickness</span><span class=\"p\">,</span>\n                <span class=\"n\">fillMaterial</span><span class=\"o\">=</span><span class=\"n\">dielectric_material</span><span class=\"p\">,</span>\n                <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">&quot;insert_below&quot;</span><span class=\"p\">,</span>\n            <span class=\"p\">)</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n                <span class=\"s2\">&quot;D&quot;</span> <span class=\"o\">+</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">layer_num</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n                <span class=\"s2\">&quot;TOP&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"n\">dielectric_material</span><span class=\"p\">,</span>\n                <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">dielectric_thickness</span><span class=\"p\">,</span>\n                <span class=\"n\">layer_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;dielectric&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">fillMaterial</span><span class=\"o\">=</span><span class=\"n\">dielectric_material</span><span class=\"p\">,</span>\n                <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">&quot;insert_below&quot;</span><span class=\"p\">,</span>\n            <span class=\"p\">)</span>\n\n            <span class=\"c1\"># Generate lower half</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n                <span class=\"s2\">&quot;L&quot;</span> <span class=\"o\">+</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">layer_count</span> <span class=\"o\">-</span> <span class=\"n\">layer_num</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n                <span class=\"s2\">&quot;BOT&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"s2\">&quot;copper&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">inner_layer_thickness</span><span class=\"p\">,</span>\n                <span class=\"n\">fillMaterial</span><span class=\"o\">=</span><span class=\"n\">dielectric_material</span><span class=\"p\">,</span>\n                <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">&quot;insert_above&quot;</span><span class=\"p\">,</span>\n            <span class=\"p\">)</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n                <span class=\"s2\">&quot;D&quot;</span> <span class=\"o\">+</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">layer_count</span> <span class=\"o\">-</span> <span class=\"n\">layer_num</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n                <span class=\"s2\">&quot;BOT&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"n\">dielectric_material</span><span class=\"p\">,</span>\n                <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">dielectric_thickness</span><span class=\"p\">,</span>\n                <span class=\"n\">layer_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;dielectric&quot;</span><span class=\"p\">,</span>\n                <span class=\"n\">fillMaterial</span><span class=\"o\">=</span><span class=\"n\">dielectric_material</span><span class=\"p\">,</span>\n                <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">&quot;insert_above&quot;</span><span class=\"p\">,</span>\n            <span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"kc\">True</span></div>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_layer_collection</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Copy of EDB layer collection.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        class : Ansys.Ansoft.Edb.Cell.LayerCollection</span>\n<span class=\"sd\">            Collection of layers.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">lc_readonly</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">_active_layout</span><span class=\"o\">.</span><span class=\"n\">GetLayerCollection</span><span class=\"p\">()</span>\n        <span class=\"n\">layers</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">lc_readonly</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">AllLayerSet</span><span class=\"p\">)))</span>\n        <span class=\"n\">layer_collection</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerCollection</span><span class=\"p\">()</span>\n        <span class=\"n\">layer_collection</span><span class=\"o\">.</span><span class=\"n\">SetMode</span><span class=\"p\">(</span><span class=\"n\">lc_readonly</span><span class=\"o\">.</span><span class=\"n\">GetMode</span><span class=\"p\">())</span>\n        <span class=\"k\">for</span> <span class=\"n\">layer</span> <span class=\"ow\">in</span> <span class=\"n\">layers</span><span class=\"p\">:</span>\n            <span class=\"n\">layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerBottom</span><span class=\"p\">(</span><span class=\"n\">layer</span><span class=\"o\">.</span><span class=\"n\">Clone</span><span class=\"p\">())</span>\n        <span class=\"k\">return</span> <span class=\"n\">layer_collection</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_edb_layer_list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_layer_collection</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">AllLayerSet</span><span class=\"p\">))</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_edb_layer_list_nonstackup</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_layer_collection</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">NonStackupLayerSet</span><span class=\"p\">))</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Retrieve the dictionary of layers.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        dict</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">_lays</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">()</span>\n        <span class=\"k\">for</span> <span class=\"n\">l</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_layer_list</span><span class=\"p\">:</span>\n            <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">l</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span>\n            <span class=\"n\">_lays</span><span class=\"p\">[</span><span class=\"n\">name</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">LayerEdbClass</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">_lays</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">signal_layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Retrieve the dictionary of signal layers.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        dict</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">SignalLayer</span>\n        <span class=\"n\">_lays</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">()</span>\n        <span class=\"k\">for</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">obj</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layers</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n            <span class=\"k\">if</span> <span class=\"n\">obj</span><span class=\"o\">.</span><span class=\"n\">_edb_layer</span><span class=\"o\">.</span><span class=\"n\">GetLayerType</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">layer_type</span><span class=\"p\">:</span>\n                <span class=\"n\">_lays</span><span class=\"p\">[</span><span class=\"n\">name</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">obj</span>\n        <span class=\"k\">return</span> <span class=\"n\">_lays</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">stackup_layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Retrieve the dictionary of signal and dielectric layers.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        dict</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">layer_type</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">SignalLayer</span><span class=\"p\">,</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">DielectricLayer</span><span class=\"p\">,</span>\n        <span class=\"p\">]</span>\n        <span class=\"n\">_lays</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">()</span>\n        <span class=\"k\">for</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">obj</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layers</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n            <span class=\"k\">if</span> <span class=\"n\">obj</span><span class=\"o\">.</span><span class=\"n\">_edb_layer</span><span class=\"o\">.</span><span class=\"n\">GetLayerType</span><span class=\"p\">()</span> <span class=\"ow\">in</span> <span class=\"n\">layer_type</span><span class=\"p\">:</span>\n                <span class=\"n\">_lays</span><span class=\"p\">[</span><span class=\"n\">name</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">obj</span>\n        <span class=\"k\">return</span> <span class=\"n\">_lays</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">non_stackup_layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Retrieve the dictionary of signal layers.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        dict</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"n\">l</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">():</span> <span class=\"n\">LayerEdbClass</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">l</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">())</span> <span class=\"k\">for</span> <span class=\"n\">l</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_layer_list_nonstackup</span><span class=\"p\">}</span>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_edb_value</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb_value</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_set_layout_stackup</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">layer_clone</span><span class=\"p\">,</span> <span class=\"n\">operation</span><span class=\"p\">,</span> <span class=\"n\">base_layer</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Internal method. Apply stackup change into EDB.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        layer_clone : :class:`pyaedt.edb_core.EDB_Data.EDBLayer`</span>\n<span class=\"sd\">        operation : str</span>\n<span class=\"sd\">            Options are ``&quot;change_attribute&quot;``, ``&quot;change_name&quot;``,``&quot;change_position&quot;``, ``&quot;insert_below&quot;``,</span>\n<span class=\"sd\">             ``&quot;insert_above&quot;``, ``&quot;add_on_top&quot;``, ``&quot;add_on_bottom&quot;``, ``&quot;non_stackup&quot;``.</span>\n<span class=\"sd\">        base_layer : str, optional</span>\n<span class=\"sd\">            Name of the base layer. The default value is ``None``.</span>\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">edb_layers</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_layer_list</span>\n        <span class=\"n\">non_stackup</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n        <span class=\"k\">if</span> <span class=\"n\">operation</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"s2\">&quot;change_attribute&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;change_name&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;change_position&quot;</span><span class=\"p\">]:</span>\n            <span class=\"n\">new_layer_collection</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerCollection</span><span class=\"p\">()</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">new_layer_collection</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerCollection</span><span class=\"p\">()</span>\n            <span class=\"k\">for</span> <span class=\"n\">layer</span> <span class=\"ow\">in</span> <span class=\"n\">edb_layers</span><span class=\"p\">:</span>\n                <span class=\"n\">to_layer</span> <span class=\"o\">=</span> <span class=\"n\">layer</span><span class=\"o\">.</span><span class=\"n\">Clone</span><span class=\"p\">()</span>\n                <span class=\"k\">if</span> <span class=\"n\">to_layer</span><span class=\"o\">.</span><span class=\"n\">IsStackupLayer</span><span class=\"p\">()</span> <span class=\"ow\">or</span> <span class=\"p\">(</span><span class=\"n\">to_layer</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;outline&quot;</span> <span class=\"ow\">and</span> <span class=\"n\">method</span> <span class=\"o\">==</span> <span class=\"mi\">1</span><span class=\"p\">):</span>\n                    <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerBottom</span><span class=\"p\">(</span><span class=\"n\">to_layer</span><span class=\"p\">)</span>\n                <span class=\"k\">else</span><span class=\"p\">:</span>\n                    <span class=\"n\">non_stackup</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">to_layer</span><span class=\"p\">)</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">operation</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;change_position&quot;</span><span class=\"p\">:</span>\n            <span class=\"k\">for</span> <span class=\"n\">lyr</span> <span class=\"ow\">in</span> <span class=\"n\">edb_layers</span><span class=\"p\">:</span>\n                <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"p\">(</span><span class=\"n\">layer_clone</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()):</span>\n                    <span class=\"k\">if</span> <span class=\"n\">base_layer</span> <span class=\"o\">==</span> <span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">():</span>\n                        <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerBottom</span><span class=\"p\">(</span><span class=\"n\">layer_clone</span><span class=\"p\">)</span>\n                    <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerBottom</span><span class=\"p\">(</span><span class=\"n\">lyr</span><span class=\"p\">)</span>\n        <span class=\"k\">elif</span> <span class=\"n\">operation</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;change_attribute&quot;</span><span class=\"p\">:</span>\n            <span class=\"k\">for</span> <span class=\"n\">lyr</span> <span class=\"ow\">in</span> <span class=\"n\">edb_layers</span><span class=\"p\">:</span>\n                <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"p\">(</span><span class=\"n\">layer_clone</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()):</span>\n                    <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerBottom</span><span class=\"p\">(</span><span class=\"n\">lyr</span><span class=\"p\">)</span>\n                <span class=\"k\">else</span><span class=\"p\">:</span>\n                    <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerBottom</span><span class=\"p\">(</span><span class=\"n\">layer_clone</span><span class=\"p\">)</span>\n        <span class=\"k\">elif</span> <span class=\"n\">operation</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;change_name&quot;</span><span class=\"p\">:</span>\n            <span class=\"k\">for</span> <span class=\"n\">lyr</span> <span class=\"ow\">in</span> <span class=\"n\">edb_layers</span><span class=\"p\">:</span>\n                <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"p\">(</span><span class=\"n\">base_layer</span> <span class=\"o\">==</span> <span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()):</span>\n                    <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerBottom</span><span class=\"p\">(</span><span class=\"n\">lyr</span><span class=\"p\">)</span>\n                <span class=\"k\">else</span><span class=\"p\">:</span>\n                    <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerBottom</span><span class=\"p\">(</span><span class=\"n\">layer_clone</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">operation</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;insert_below&quot;</span><span class=\"p\">:</span>\n                <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerBelow</span><span class=\"p\">(</span><span class=\"n\">layer_clone</span><span class=\"p\">,</span> <span class=\"n\">base_layer</span><span class=\"p\">)</span>\n            <span class=\"k\">elif</span> <span class=\"n\">operation</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;insert_above&quot;</span><span class=\"p\">:</span>\n                <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerAbove</span><span class=\"p\">(</span><span class=\"n\">layer_clone</span><span class=\"p\">,</span> <span class=\"n\">base_layer</span><span class=\"p\">)</span>\n            <span class=\"k\">elif</span> <span class=\"n\">operation</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;add_on_top&quot;</span><span class=\"p\">:</span>\n                <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerTop</span><span class=\"p\">(</span><span class=\"n\">layer_clone</span><span class=\"p\">)</span>\n            <span class=\"k\">elif</span> <span class=\"n\">operation</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;add_on_bottom&quot;</span><span class=\"p\">:</span>\n                <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerBottom</span><span class=\"p\">(</span><span class=\"n\">layer_clone</span><span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerTop</span><span class=\"p\">(</span><span class=\"n\">layer_clone</span><span class=\"p\">)</span>\n            <span class=\"k\">for</span> <span class=\"n\">lay</span> <span class=\"ow\">in</span> <span class=\"n\">non_stackup</span><span class=\"p\">:</span>\n                <span class=\"n\">new_layer</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">Layer</span><span class=\"p\">(</span><span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">(),</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_int_to_layer_types</span><span class=\"p\">(</span><span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">GetLayerType</span><span class=\"p\">()))</span>\n                <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerBottom</span><span class=\"p\">(</span><span class=\"n\">new_layer</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">_active_layout</span><span class=\"o\">.</span><span class=\"n\">SetLayerCollection</span><span class=\"p\">(</span><span class=\"n\">new_layer_collection</span><span class=\"p\">)</span>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_create_stackup_layer</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">layer_name</span><span class=\"p\">,</span> <span class=\"n\">thickness</span><span class=\"p\">,</span> <span class=\"n\">layer_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;signal&quot;</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;signal&quot;</span><span class=\"p\">:</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">SignalLayer</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">DielectricLayer</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">StackupLayer</span><span class=\"p\">(</span>\n            <span class=\"n\">layer_name</span><span class=\"p\">,</span>\n            <span class=\"n\">_layer_type</span><span class=\"p\">,</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">thickness</span><span class=\"p\">),</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">),</span>\n            <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_create_nonstackup_layer</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">layer_name</span><span class=\"p\">,</span> <span class=\"n\">layer_type</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;conducting&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">ConductingLayer</span>\n        <span class=\"k\">elif</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;air_lines&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">AirlinesLayer</span>\n        <span class=\"k\">elif</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;error&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">ErrorsLayer</span>\n        <span class=\"k\">elif</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;symbol&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">SymbolLayer</span>\n        <span class=\"k\">elif</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;measure&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">MeasureLayer</span>\n        <span class=\"k\">elif</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;assembly&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">AssemblyLayer</span>\n        <span class=\"k\">elif</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;silkscreen&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">SilkscreenLayer</span>\n        <span class=\"k\">elif</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;solder_mask&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">SolderMaskLayer</span>\n        <span class=\"k\">elif</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;solder_paste&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">SolderPasteLayer</span>\n        <span class=\"k\">elif</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;glue&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">GlueLayer</span>\n        <span class=\"k\">elif</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;wirebond&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">WirebondLayer</span>\n        <span class=\"k\">elif</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;user&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">UserLayer</span>\n        <span class=\"k\">elif</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;hfss_region&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">SIwaveHFSSSolverRegions</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">_layer_type</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span><span class=\"o\">.</span><span class=\"n\">OutlineLayer</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">Layer</span><span class=\"p\">(</span><span class=\"n\">layer_name</span><span class=\"p\">,</span> <span class=\"n\">_layer_type</span><span class=\"p\">)</span>\n\n<div class=\"viewcode-block\" id=\"Stackup.add_layer\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.add_layer/#pyaedt.edb_core.stackup.Stackup.add_layer\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">add_layer</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">layer_name</span><span class=\"p\">,</span>\n        <span class=\"n\">base_layer</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">&quot;add_on_top&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">layer_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;signal&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"s2\">&quot;copper&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">fillMaterial</span><span class=\"o\">=</span><span class=\"s2\">&quot;fr4_epoxy&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"s2\">&quot;35um&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">etch_factor</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n        <span class=\"n\">is_negative</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n        <span class=\"n\">enable_roughness</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Insert a layer into stackup.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        layer_name : str</span>\n<span class=\"sd\">            Name of the layer.</span>\n<span class=\"sd\">        base_layer : str, optional</span>\n<span class=\"sd\">            Name of the base layer.</span>\n<span class=\"sd\">        method : str, optional</span>\n<span class=\"sd\">            Where to insert the new layer. The default is ``&quot;add_on_top&quot;``. Options are ``&quot;add_on_top&quot;``,</span>\n<span class=\"sd\">            ``&quot;add_on_bottom&quot;``, ``&quot;insert_above&quot;``, ``&quot;insert_below&quot;``.</span>\n<span class=\"sd\">        layer_type : str, optional</span>\n<span class=\"sd\">            Type of layer. The default is ``&quot;signal&quot;``. Options are ``&quot;signal&quot;``, ``&quot;dielectric&quot;``, ``&quot;conducting&quot;``,</span>\n<span class=\"sd\">             ``&quot;air_lines&quot;``, ``&quot;error&quot;``, ``&quot;symbol&quot;``, ``&quot;measure&quot;``, ``&quot;assembly&quot;``, ``&quot;silkscreen&quot;``,</span>\n<span class=\"sd\">             ``&quot;solder_mask&quot;``, ``&quot;solder_paste&quot;``, ``&quot;glue&quot;``, ``&quot;wirebond&quot;``, ``&quot;hfss_region&quot;``, ``&quot;user&quot;``.</span>\n<span class=\"sd\">        material : str, optional</span>\n<span class=\"sd\">            Material of the layer.</span>\n<span class=\"sd\">        fillMaterial : str, optional</span>\n<span class=\"sd\">            Fill material of the layer.</span>\n<span class=\"sd\">        thickness : str, float, optional</span>\n<span class=\"sd\">            Thickness of the layer.</span>\n<span class=\"sd\">        etch_factor : int, float, optional</span>\n<span class=\"sd\">            Etch factor of the layer.</span>\n<span class=\"sd\">        is_negative : bool, optional</span>\n<span class=\"sd\">            Whether the layer is negative.</span>\n<span class=\"sd\">        enable_roughness : bool, optional</span>\n<span class=\"sd\">            Whether roughness is enabled.</span>\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"n\">layer_name</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layers</span><span class=\"p\">:</span>\n            <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s2\">&quot;layer </span><span class=\"si\">{}</span><span class=\"s2\"> exists.&quot;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">layer_name</span><span class=\"p\">))</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span>\n        <span class=\"n\">materials_lower</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">():</span> <span class=\"n\">m</span> <span class=\"k\">for</span> <span class=\"n\">m</span> <span class=\"ow\">in</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">())}</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">material</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">layer_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;signal&quot;</span><span class=\"p\">:</span>\n                <span class=\"n\">material</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;copper&quot;</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"n\">material</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;fr4_epoxy&quot;</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">fillMaterial</span><span class=\"p\">:</span>\n            <span class=\"n\">fillMaterial</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;fr4_epoxy&quot;</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">material</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">materials_lower</span><span class=\"p\">:</span>\n            <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"n\">material</span> <span class=\"o\">+</span> <span class=\"s2\">&quot; does not exist in material library&quot;</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">material</span> <span class=\"o\">=</span> <span class=\"n\">materials_lower</span><span class=\"p\">[</span><span class=\"n\">material</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()]</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">layer_type</span> <span class=\"o\">!=</span> <span class=\"s2\">&quot;dielectric&quot;</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">fillMaterial</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">materials_lower</span><span class=\"p\">:</span>\n                <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"n\">fillMaterial</span> <span class=\"o\">+</span> <span class=\"s2\">&quot; does not exist in material library&quot;</span><span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"n\">fillMaterial</span> <span class=\"o\">=</span> <span class=\"n\">materials_lower</span><span class=\"p\">[</span><span class=\"n\">fillMaterial</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()]</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">layer_type</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"s2\">&quot;signal&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;dielectric&quot;</span><span class=\"p\">]:</span>\n            <span class=\"n\">new_layer</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_create_stackup_layer</span><span class=\"p\">(</span><span class=\"n\">layer_name</span><span class=\"p\">,</span> <span class=\"n\">thickness</span><span class=\"p\">,</span> <span class=\"n\">layer_type</span><span class=\"p\">)</span>\n            <span class=\"n\">new_layer</span><span class=\"o\">.</span><span class=\"n\">SetMaterial</span><span class=\"p\">(</span><span class=\"n\">material</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"n\">layer_type</span> <span class=\"o\">!=</span> <span class=\"s2\">&quot;dielectric&quot;</span><span class=\"p\">:</span>\n                <span class=\"n\">new_layer</span><span class=\"o\">.</span><span class=\"n\">SetFillMaterial</span><span class=\"p\">(</span><span class=\"n\">fillMaterial</span><span class=\"p\">)</span>\n            <span class=\"n\">new_layer</span><span class=\"o\">.</span><span class=\"n\">SetNegative</span><span class=\"p\">(</span><span class=\"n\">is_negative</span><span class=\"p\">)</span>\n            <span class=\"n\">l1</span> <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layers</span><span class=\"p\">)</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_set_layout_stackup</span><span class=\"p\">(</span><span class=\"n\">new_layer</span><span class=\"p\">,</span> <span class=\"n\">method</span><span class=\"p\">,</span> <span class=\"n\">base_layer</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layers</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"n\">l1</span><span class=\"p\">:</span>\n                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_set_layout_stackup</span><span class=\"p\">(</span><span class=\"n\">new_layer</span><span class=\"p\">,</span> <span class=\"n\">method</span><span class=\"p\">,</span> <span class=\"n\">base_layer</span><span class=\"p\">,</span> <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"n\">etch_factor</span><span class=\"p\">:</span>\n                <span class=\"n\">new_layer</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layers</span><span class=\"p\">[</span><span class=\"n\">layer_name</span><span class=\"p\">]</span>\n                <span class=\"n\">new_layer</span><span class=\"o\">.</span><span class=\"n\">etch_factor</span> <span class=\"o\">=</span> <span class=\"n\">etch_factor</span>\n            <span class=\"k\">if</span> <span class=\"n\">enable_roughness</span><span class=\"p\">:</span>\n                <span class=\"n\">new_layer</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layers</span><span class=\"p\">[</span><span class=\"n\">layer_name</span><span class=\"p\">]</span>\n                <span class=\"n\">new_layer</span><span class=\"o\">.</span><span class=\"n\">roughness_enabled</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">new_layer</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_create_nonstackup_layer</span><span class=\"p\">(</span><span class=\"n\">layer_name</span><span class=\"p\">,</span> <span class=\"n\">layer_type</span><span class=\"p\">)</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_set_layout_stackup</span><span class=\"p\">(</span><span class=\"n\">new_layer</span><span class=\"p\">,</span> <span class=\"s2\">&quot;non_stackup&quot;</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">layers</span><span class=\"p\">[</span><span class=\"n\">layer_name</span><span class=\"p\">]</span></div>\n\n<div class=\"viewcode-block\" id=\"Stackup.remove_layer\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.remove_layer/#pyaedt.edb_core.stackup.Stackup.remove_layer\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">remove_layer</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Remove a layer from stackup.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        name : str</span>\n<span class=\"sd\">            Name of the layer to remove.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">new_layer_collection</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerCollection</span><span class=\"p\">()</span>\n        <span class=\"k\">for</span> <span class=\"n\">lyr</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_layer_list</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"p\">(</span><span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n                <span class=\"n\">new_layer_collection</span><span class=\"o\">.</span><span class=\"n\">AddLayerBottom</span><span class=\"p\">(</span><span class=\"n\">lyr</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">_active_layout</span><span class=\"o\">.</span><span class=\"n\">SetLayerCollection</span><span class=\"p\">(</span><span class=\"n\">new_layer_collection</span><span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"Stackup.import_stackup\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.import_stackup/#pyaedt.edb_core.stackup.Stackup.import_stackup\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span>\n    <span class=\"k\">def</span> <span class=\"nf\">import_stackup</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">fpath</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Import stackup defnition from csv file.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        fpath : str</span>\n<span class=\"sd\">            File path to csv or json file.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">pd</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s2\">&quot;Pandas is needed. Please, install it first.&quot;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span>\n        <span class=\"k\">if</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">splitext</span><span class=\"p\">(</span><span class=\"n\">fpath</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;.json&quot;</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_import_layer_stackup</span><span class=\"p\">(</span><span class=\"n\">fpath</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">is_ironpython</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s2\">&quot;Method working on CPython only.&quot;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span>\n        <span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">read_csv</span><span class=\"p\">(</span><span class=\"n\">fpath</span><span class=\"p\">,</span> <span class=\"n\">index_col</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n        <span class=\"n\">prev_layer</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n        <span class=\"k\">for</span> <span class=\"n\">row</span><span class=\"p\">,</span> <span class=\"n\">val</span> <span class=\"ow\">in</span> <span class=\"n\">df</span><span class=\"p\">[::</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">iterrows</span><span class=\"p\">():</span>\n            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"p\">:</span>\n                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n                    <span class=\"n\">row</span><span class=\"p\">,</span>\n                    <span class=\"kc\">None</span><span class=\"p\">,</span>\n                    <span class=\"s2\">&quot;add_on_top&quot;</span><span class=\"p\">,</span>\n                    <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Type</span><span class=\"p\">,</span>\n                    <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Material</span><span class=\"p\">,</span>\n                    <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Dielectric_Fill</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">isnull</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Dielectric_Fill</span><span class=\"p\">)</span> <span class=\"k\">else</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n                    <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Thickness</span><span class=\"p\">,</span>\n                <span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"k\">if</span> <span class=\"n\">row</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">():</span>\n                    <span class=\"n\">lyr</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"p\">[</span><span class=\"n\">row</span><span class=\"p\">]</span>\n                    <span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">type</span> <span class=\"o\">=</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Type</span>\n                    <span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">material</span> <span class=\"o\">=</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Material</span>\n                    <span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">dielectric_fill</span> <span class=\"o\">=</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Dielectric_Fill</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">isnull</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Dielectric_Fill</span><span class=\"p\">)</span> <span class=\"k\">else</span> <span class=\"s2\">&quot;&quot;</span>\n                    <span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">thickness</span> <span class=\"o\">=</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Thickness</span>\n                    <span class=\"k\">if</span> <span class=\"n\">prev_layer</span><span class=\"p\">:</span>\n                        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_set_layout_stackup</span><span class=\"p\">(</span><span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">_edb_layer</span><span class=\"p\">,</span> <span class=\"s2\">&quot;change_position&quot;</span><span class=\"p\">,</span> <span class=\"n\">prev_layer</span><span class=\"p\">)</span>\n                <span class=\"k\">else</span><span class=\"p\">:</span>\n                    <span class=\"k\">if</span> <span class=\"n\">prev_layer</span> <span class=\"ow\">and</span> <span class=\"n\">prev_layer</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"p\">:</span>\n                        <span class=\"n\">layer_name</span> <span class=\"o\">=</span> <span class=\"n\">prev_layer</span>\n                    <span class=\"k\">else</span><span class=\"p\">:</span>\n                        <span class=\"n\">layer_name</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">())[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span> <span class=\"k\">else</span> <span class=\"kc\">None</span>\n                    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n                        <span class=\"n\">row</span><span class=\"p\">,</span>\n                        <span class=\"n\">layer_name</span><span class=\"p\">,</span>\n                        <span class=\"s2\">&quot;insert_above&quot;</span><span class=\"p\">,</span>\n                        <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Type</span><span class=\"p\">,</span>\n                        <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Material</span><span class=\"p\">,</span>\n                        <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Dielectric_Fill</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">isnull</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Dielectric_Fill</span><span class=\"p\">)</span> <span class=\"k\">else</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n                        <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">Thickness</span><span class=\"p\">,</span>\n                    <span class=\"p\">)</span>\n                <span class=\"n\">prev_layer</span> <span class=\"o\">=</span> <span class=\"n\">row</span>\n        <span class=\"k\">for</span> <span class=\"n\">name</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">name</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">index</span><span class=\"p\">:</span>\n                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">remove_layer</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"kc\">True</span></div>\n\n<div class=\"viewcode-block\" id=\"Stackup.export_stackup\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.export_stackup/#pyaedt.edb_core.stackup.Stackup.export_stackup\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span>\n    <span class=\"k\">def</span> <span class=\"nf\">export_stackup</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">fpath</span><span class=\"p\">,</span> <span class=\"n\">file_format</span><span class=\"o\">=</span><span class=\"s2\">&quot;csv&quot;</span><span class=\"p\">,</span> <span class=\"n\">include_material_with_layer</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Export stackup definition to a CSV or JSON file.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        fpath : str</span>\n<span class=\"sd\">            File path to csv or json file.</span>\n<span class=\"sd\">        file_format : str, optional</span>\n<span class=\"sd\">            Format of the file to export. The default is ``&quot;csv&quot;``. Options are ``&quot;csv&quot;``, ``&quot;xlsx&quot;``,</span>\n<span class=\"sd\">            ``&quot;json&quot;``.</span>\n<span class=\"sd\">        include_material_with_layer : bool, optional.</span>\n<span class=\"sd\">            Whether to include the material definition inside layer ones. This parameter is only used</span>\n<span class=\"sd\">            when a JSON file is exported. The default is ``False``, which keeps the material definition</span>\n<span class=\"sd\">            section in the JSON file. If ``True``, the material definition is included inside the layer ones.</span>\n\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"n\">file_format</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"s2\">&quot;csv&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;xlsx&quot;</span><span class=\"p\">]:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_export_layer_stackup_to_csv_xlsx</span><span class=\"p\">(</span><span class=\"n\">fpath</span><span class=\"p\">,</span> <span class=\"n\">file_format</span><span class=\"p\">)</span>\n        <span class=\"k\">elif</span> <span class=\"n\">file_format</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;json&quot;</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_export_layer_stackup_to_json</span><span class=\"p\">(</span><span class=\"n\">fpath</span><span class=\"p\">,</span> <span class=\"n\">include_material_with_layer</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_logger</span><span class=\"o\">.</span><span class=\"n\">warning</span><span class=\"p\">(</span><span class=\"s2\">&quot;Layer stackup format is not supported. Skipping import.&quot;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span></div>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_export_layer_stackup_to_csv_xlsx</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">fpath</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">file_format</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">pd</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s2\">&quot;Pandas is needed. Please, install it first.&quot;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span>\n        <span class=\"k\">if</span> <span class=\"n\">is_ironpython</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span>\n        <span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"s2\">&quot;Type&quot;</span><span class=\"p\">:</span> <span class=\"p\">[],</span>\n            <span class=\"s2\">&quot;Material&quot;</span><span class=\"p\">:</span> <span class=\"p\">[],</span>\n            <span class=\"s2\">&quot;Dielectric_Fill&quot;</span><span class=\"p\">:</span> <span class=\"p\">[],</span>\n            <span class=\"s2\">&quot;Thickness&quot;</span><span class=\"p\">:</span> <span class=\"p\">[],</span>\n        <span class=\"p\">}</span>\n        <span class=\"n\">idx</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n        <span class=\"k\">for</span> <span class=\"n\">lyr</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">():</span>\n            <span class=\"n\">idx</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n            <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s2\">&quot;Type&quot;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">type</span><span class=\"p\">)</span>\n            <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s2\">&quot;Material&quot;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">material</span><span class=\"p\">)</span>\n            <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s2\">&quot;Dielectric_Fill&quot;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">dielectric_fill</span><span class=\"p\">)</span>\n            <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s2\">&quot;Thickness&quot;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">lyr</span><span class=\"o\">.</span><span class=\"n\">thickness</span><span class=\"p\">)</span>\n        <span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">index</span><span class=\"o\">=</span><span class=\"n\">idx</span><span class=\"p\">,</span> <span class=\"n\">columns</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">&quot;Type&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Material&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Dielectric_Fill&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Thickness&quot;</span><span class=\"p\">])</span>\n        <span class=\"k\">if</span> <span class=\"n\">file_format</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;csv&quot;</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">fpath</span><span class=\"o\">.</span><span class=\"n\">endswith</span><span class=\"p\">(</span><span class=\"s2\">&quot;.csv&quot;</span><span class=\"p\">):</span>\n                <span class=\"n\">fpath</span> <span class=\"o\">=</span> <span class=\"n\">fpath</span> <span class=\"o\">+</span> <span class=\"s2\">&quot;.csv&quot;</span>\n            <span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">to_csv</span><span class=\"p\">(</span><span class=\"n\">fpath</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">fpath</span><span class=\"o\">.</span><span class=\"n\">endswith</span><span class=\"p\">(</span><span class=\"s2\">&quot;.xlsx&quot;</span><span class=\"p\">):</span>  <span class=\"c1\"># pragma: no cover</span>\n                <span class=\"n\">fpath</span> <span class=\"o\">=</span> <span class=\"n\">fpath</span> <span class=\"o\">+</span> <span class=\"s2\">&quot;.xlsx&quot;</span>\n            <span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">to_excel</span><span class=\"p\">(</span><span class=\"n\">fpath</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"kc\">True</span>\n\n    <span class=\"nd\">@pyaedt_function_handler</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_export_layer_stackup_to_json</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">output_file</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">include_material_with_layer</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">include_material_with_layer</span><span class=\"p\">:</span>\n            <span class=\"n\">material_out</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n            <span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n                <span class=\"n\">material_out</span><span class=\"p\">[</span><span class=\"n\">k</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">_json_format</span><span class=\"p\">()</span>\n        <span class=\"n\">layers_out</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n        <span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n            <span class=\"n\">layers_out</span><span class=\"p\">[</span><span class=\"n\">k</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">_json_format</span><span class=\"p\">()</span>\n            <span class=\"k\">if</span> <span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">material</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"p\">:</span>\n                <span class=\"n\">layer_material</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"p\">[</span><span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">material</span><span class=\"p\">]</span>\n                <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">dielectric_fill</span><span class=\"p\">:</span>\n                    <span class=\"n\">dielectric_fill</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>\n                <span class=\"k\">else</span><span class=\"p\">:</span>\n                    <span class=\"n\">dielectric_fill</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"p\">[</span><span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">dielectric_fill</span><span class=\"p\">]</span>\n                <span class=\"k\">if</span> <span class=\"n\">include_material_with_layer</span><span class=\"p\">:</span>\n                    <span class=\"n\">layers_out</span><span class=\"p\">[</span><span class=\"n\">k</span><span class=\"p\">][</span><span class=\"s2\">&quot;material&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">layer_material</span><span class=\"o\">.</span><span class=\"n\">_json_format</span><span class=\"p\">()</span>\n                    <span class=\"k\">if</span> <span class=\"n\">dielectric_fill</span><span class=\"p\">:</span>\n                        <span class=\"n\">layers_out</span><span class=\"p\">[</span><span class=\"n\">k</span><span class=\"p\">][</span><span class=\"s2\">&quot;dielectric_fill&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">dielectric_fill</span><span class=\"o\">.</span><span class=\"n\">_json_format</span><span class=\"p\">()</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">include_material_with_layer</span><span class=\"p\">:</span>\n            <span class=\"n\">stackup_out</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s2\">&quot;materials&quot;</span><span class=\"p\">:</span> <span class=\"n\">material_out</span><span class=\"p\">,</span> <span class=\"s2\">&quot;layers&quot;</span><span class=\"p\">:</span> <span class=\"n\">layers_out</span><span class=\"p\">}</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">stackup_out</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s2\">&quot;layers&quot;</span><span class=\"p\">:</span> <span class=\"n\">layers_out</span><span class=\"p\">}</span>\n        <span class=\"k\">if</span> <span class=\"n\">output_file</span><span class=\"p\">:</span>\n            <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">output_file</span><span class=\"p\">,</span> <span class=\"s2\">&quot;w&quot;</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">write_file</span><span class=\"p\">:</span>\n                <span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">dump</span><span class=\"p\">(</span><span class=\"n\">stackup_out</span><span class=\"p\">,</span> <span class=\"n\">write_file</span><span class=\"p\">,</span> <span class=\"n\">indent</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">)</span>\n\n            <span class=\"k\">return</span> <span class=\"kc\">True</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_import_layer_stackup</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">input_file</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">input_file</span><span class=\"p\">:</span>\n            <span class=\"n\">f</span> <span class=\"o\">=</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">input_file</span><span class=\"p\">)</span>\n            <span class=\"n\">json_dict</span> <span class=\"o\">=</span> <span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">)</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">json_dict</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n                <span class=\"k\">if</span> <span class=\"n\">k</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;materials&quot;</span><span class=\"p\">:</span>\n                    <span class=\"k\">for</span> <span class=\"n\">material</span> <span class=\"ow\">in</span> <span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">():</span>\n                        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">_load_materials</span><span class=\"p\">(</span><span class=\"n\">material</span><span class=\"p\">)</span>\n                <span class=\"k\">if</span> <span class=\"n\">k</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;layers&quot;</span><span class=\"p\">:</span>\n                    <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">()))</span> <span class=\"o\">==</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">())):</span>\n                        <span class=\"n\">imported_layers_list</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">l_dict</span><span class=\"p\">[</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">l_dict</span> <span class=\"ow\">in</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">())]</span>\n                        <span class=\"n\">layout_layer_list</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">())</span>\n                        <span class=\"k\">for</span> <span class=\"n\">layer_name</span> <span class=\"ow\">in</span> <span class=\"n\">imported_layers_list</span><span class=\"p\">:</span>\n                            <span class=\"n\">layer_index</span> <span class=\"o\">=</span> <span class=\"n\">imported_layers_list</span><span class=\"o\">.</span><span class=\"n\">index</span><span class=\"p\">(</span><span class=\"n\">layer_name</span><span class=\"p\">)</span>\n                            <span class=\"k\">if</span> <span class=\"n\">layout_layer_list</span><span class=\"p\">[</span><span class=\"n\">layer_index</span><span class=\"p\">]</span> <span class=\"o\">!=</span> <span class=\"n\">layer_name</span><span class=\"p\">:</span>\n                                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"p\">[</span><span class=\"n\">layout_layer_list</span><span class=\"p\">[</span><span class=\"n\">layer_index</span><span class=\"p\">]]</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">layer_name</span>\n                    <span class=\"n\">prev_layer</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n                    <span class=\"k\">for</span> <span class=\"n\">layer_name</span><span class=\"p\">,</span> <span class=\"n\">layer</span> <span class=\"ow\">in</span> <span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n                        <span class=\"k\">if</span> <span class=\"n\">layer</span><span class=\"p\">[</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">]</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"p\">:</span>\n                            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">prev_layer</span><span class=\"p\">:</span>\n                                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n                                    <span class=\"n\">layer_name</span><span class=\"p\">,</span>\n                                    <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">&quot;add_on_top&quot;</span><span class=\"p\">,</span>\n                                    <span class=\"n\">layer_type</span><span class=\"o\">=</span><span class=\"n\">layer</span><span class=\"p\">[</span><span class=\"s2\">&quot;type&quot;</span><span class=\"p\">],</span>\n                                    <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"n\">layer</span><span class=\"p\">[</span><span class=\"s2\">&quot;material&quot;</span><span class=\"p\">],</span>\n                                    <span class=\"n\">fillMaterial</span><span class=\"o\">=</span><span class=\"n\">layer</span><span class=\"p\">[</span><span class=\"s2\">&quot;dielectric_fill&quot;</span><span class=\"p\">],</span>\n                                    <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">layer</span><span class=\"p\">[</span><span class=\"s2\">&quot;thickness&quot;</span><span class=\"p\">],</span>\n                                <span class=\"p\">)</span>\n                                <span class=\"n\">prev_layer</span> <span class=\"o\">=</span> <span class=\"n\">layer_name</span>\n                            <span class=\"k\">else</span><span class=\"p\">:</span>\n                                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n                                    <span class=\"n\">layer_name</span><span class=\"p\">,</span>\n                                    <span class=\"n\">base_layer</span><span class=\"o\">=</span><span class=\"n\">layer_name</span><span class=\"p\">,</span>\n                                    <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">&quot;insert_below&quot;</span><span class=\"p\">,</span>\n                                    <span class=\"n\">layer_type</span><span class=\"o\">=</span><span class=\"n\">layer</span><span class=\"p\">[</span><span class=\"s2\">&quot;type&quot;</span><span class=\"p\">],</span>\n                                    <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"n\">layer</span><span class=\"p\">[</span><span class=\"s2\">&quot;material&quot;</span><span class=\"p\">],</span>\n                                    <span class=\"n\">fillMaterial</span><span class=\"o\">=</span><span class=\"n\">layer</span><span class=\"p\">[</span><span class=\"s2\">&quot;dielectric_fill&quot;</span><span class=\"p\">],</span>\n                                    <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">layer</span><span class=\"p\">[</span><span class=\"s2\">&quot;thickness&quot;</span><span class=\"p\">],</span>\n                                <span class=\"p\">)</span>\n                                <span class=\"n\">prev_layer</span> <span class=\"o\">=</span> <span class=\"n\">layer_name</span>\n                        <span class=\"k\">if</span> <span class=\"n\">layer_name</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"p\">:</span>\n                            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"p\">[</span><span class=\"n\">layer</span><span class=\"p\">[</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">]]</span><span class=\"o\">.</span><span class=\"n\">_load_layer</span><span class=\"p\">(</span><span class=\"n\">layer</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"kc\">True</span>\n\n<div class=\"viewcode-block\" id=\"Stackup.stackup_limits\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.stackup_limits/#pyaedt.edb_core.stackup.Stackup.stackup_limits\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">stackup_limits</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">only_metals</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Retrieve stackup limits.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        only_metals : bool, optional</span>\n<span class=\"sd\">            Whether to retrieve only metals. The default is ``False``.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when successful, ``False`` when failed.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"n\">only_metals</span><span class=\"p\">:</span>\n            <span class=\"n\">input_layers</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">SignalLayerSet</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">input_layers</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">StackupLayerSet</span>\n\n        <span class=\"n\">res</span><span class=\"p\">,</span> <span class=\"n\">topl</span><span class=\"p\">,</span> <span class=\"n\">topz</span><span class=\"p\">,</span> <span class=\"n\">bottoml</span><span class=\"p\">,</span> <span class=\"n\">bottomz</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_layer_collection</span><span class=\"o\">.</span><span class=\"n\">GetTopBottomStackupLayers</span><span class=\"p\">(</span><span class=\"n\">input_layers</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">topl</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">(),</span> <span class=\"n\">topz</span><span class=\"p\">,</span> <span class=\"n\">bottoml</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">(),</span> <span class=\"n\">bottomz</span></div>\n\n<div class=\"viewcode-block\" id=\"Stackup.flip_design\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.flip_design/#pyaedt.edb_core.stackup.Stackup.flip_design\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">flip_design</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Flip the current design of a layout.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when succeed ``False`` if not.</span>\n\n<span class=\"sd\">        Examples</span>\n<span class=\"sd\">        --------</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb = Edb(edbpath=targetfile,  edbversion=&quot;2021.2&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb.stackup.flip_design()</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb.save()</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb.close_edb()</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"n\">lc</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_layer_collection</span>\n            <span class=\"n\">new_lc</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerCollection</span><span class=\"p\">()</span>\n            <span class=\"n\">lc_mode</span> <span class=\"o\">=</span> <span class=\"n\">lc</span><span class=\"o\">.</span><span class=\"n\">GetMode</span><span class=\"p\">()</span>\n            <span class=\"n\">new_lc</span><span class=\"o\">.</span><span class=\"n\">SetMode</span><span class=\"p\">(</span><span class=\"n\">lc_mode</span><span class=\"p\">)</span>\n            <span class=\"n\">max_elevation</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>\n            <span class=\"k\">for</span> <span class=\"n\">layer</span> <span class=\"ow\">in</span> <span class=\"n\">lc</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">StackupLayerSet</span><span class=\"p\">):</span>\n\n                <span class=\"k\">if</span> <span class=\"s2\">&quot;RadBox&quot;</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">layer</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">():</span>  <span class=\"c1\"># Ignore RadBox</span>\n                    <span class=\"n\">lower_elevation</span> <span class=\"o\">=</span> <span class=\"n\">layer</span><span class=\"o\">.</span><span class=\"n\">Clone</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">GetLowerElevation</span><span class=\"p\">()</span> <span class=\"o\">*</span> <span class=\"mf\">1.0e6</span>\n                    <span class=\"n\">upper_elevation</span> <span class=\"o\">=</span> <span class=\"n\">layer</span><span class=\"o\">.</span><span class=\"n\">Clone</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">GetUpperElevation</span><span class=\"p\">()</span> <span class=\"o\">*</span> <span class=\"mf\">1.0e6</span>\n                    <span class=\"n\">max_elevation</span> <span class=\"o\">=</span> <span class=\"nb\">max</span><span class=\"p\">([</span><span class=\"n\">max_elevation</span><span class=\"p\">,</span> <span class=\"n\">lower_elevation</span><span class=\"p\">,</span> <span class=\"n\">upper_elevation</span><span class=\"p\">])</span>\n\n            <span class=\"n\">non_stackup_layers</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n            <span class=\"k\">for</span> <span class=\"n\">layer</span> <span class=\"ow\">in</span> <span class=\"n\">lc</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">AllLayerSet</span><span class=\"p\">):</span>\n                <span class=\"n\">cloned_layer</span> <span class=\"o\">=</span> <span class=\"n\">layer</span><span class=\"o\">.</span><span class=\"n\">Clone</span><span class=\"p\">()</span>\n                <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">cloned_layer</span><span class=\"o\">.</span><span class=\"n\">IsStackupLayer</span><span class=\"p\">():</span>\n                    <span class=\"n\">non_stackup_layers</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">cloned_layer</span><span class=\"p\">)</span>\n                    <span class=\"k\">continue</span>\n                <span class=\"k\">if</span> <span class=\"s2\">&quot;RadBox&quot;</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">cloned_layer</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span> <span class=\"ow\">and</span> <span class=\"ow\">not</span> <span class=\"n\">cloned_layer</span><span class=\"o\">.</span><span class=\"n\">IsViaLayer</span><span class=\"p\">():</span>\n                    <span class=\"n\">upper_elevation</span> <span class=\"o\">=</span> <span class=\"n\">cloned_layer</span><span class=\"o\">.</span><span class=\"n\">GetUpperElevation</span><span class=\"p\">()</span> <span class=\"o\">*</span> <span class=\"mf\">1.0e6</span>\n                    <span class=\"n\">updated_lower_el</span> <span class=\"o\">=</span> <span class=\"n\">max_elevation</span> <span class=\"o\">-</span> <span class=\"n\">upper_elevation</span>\n                    <span class=\"n\">val</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"s2\">&quot;</span><span class=\"si\">{}</span><span class=\"s2\">um&quot;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">updated_lower_el</span><span class=\"p\">))</span>\n                    <span class=\"n\">cloned_layer</span><span class=\"o\">.</span><span class=\"n\">SetLowerElevation</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span>\n                    <span class=\"k\">if</span> <span class=\"n\">cloned_layer</span><span class=\"o\">.</span><span class=\"n\">GetTopBottomAssociation</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">TopBottomAssociation</span><span class=\"o\">.</span><span class=\"n\">TopAssociated</span><span class=\"p\">:</span>\n                        <span class=\"n\">cloned_layer</span><span class=\"o\">.</span><span class=\"n\">SetTopBottomAssociation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">TopBottomAssociation</span><span class=\"o\">.</span><span class=\"n\">BottomAssociated</span><span class=\"p\">)</span>\n                    <span class=\"k\">else</span><span class=\"p\">:</span>\n                        <span class=\"n\">cloned_layer</span><span class=\"o\">.</span><span class=\"n\">SetTopBottomAssociation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">TopBottomAssociation</span><span class=\"o\">.</span><span class=\"n\">TopAssociated</span><span class=\"p\">)</span>\n                    <span class=\"n\">new_lc</span><span class=\"o\">.</span><span class=\"n\">AddStackupLayerAtElevation</span><span class=\"p\">(</span><span class=\"n\">cloned_layer</span><span class=\"p\">)</span>\n\n            <span class=\"n\">vialayers</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n                <span class=\"n\">lay</span> <span class=\"k\">for</span> <span class=\"n\">lay</span> <span class=\"ow\">in</span> <span class=\"n\">lc</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">StackupLayerSet</span><span class=\"p\">)</span> <span class=\"k\">if</span> <span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">Clone</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">IsViaLayer</span><span class=\"p\">()</span>\n            <span class=\"p\">]</span>\n            <span class=\"k\">for</span> <span class=\"n\">layer</span> <span class=\"ow\">in</span> <span class=\"n\">vialayers</span><span class=\"p\">:</span>\n                <span class=\"n\">cloned_via_layer</span> <span class=\"o\">=</span> <span class=\"n\">layer</span><span class=\"o\">.</span><span class=\"n\">Clone</span><span class=\"p\">()</span>\n                <span class=\"n\">upper_ref_name</span> <span class=\"o\">=</span> <span class=\"n\">cloned_via_layer</span><span class=\"o\">.</span><span class=\"n\">GetRefLayerName</span><span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n                <span class=\"n\">lower_ref_name</span> <span class=\"o\">=</span> <span class=\"n\">cloned_via_layer</span><span class=\"o\">.</span><span class=\"n\">GetRefLayerName</span><span class=\"p\">(</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n                <span class=\"n\">upper_ref</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n                    <span class=\"n\">lay</span>\n                    <span class=\"k\">for</span> <span class=\"n\">lay</span> <span class=\"ow\">in</span> <span class=\"n\">lc</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">AllLayerSet</span><span class=\"p\">)</span>\n                    <span class=\"k\">if</span> <span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">upper_ref_name</span>\n                <span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n                <span class=\"n\">lower_ref</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n                    <span class=\"n\">lay</span>\n                    <span class=\"k\">for</span> <span class=\"n\">lay</span> <span class=\"ow\">in</span> <span class=\"n\">lc</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">AllLayerSet</span><span class=\"p\">)</span>\n                    <span class=\"k\">if</span> <span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">lower_ref_name</span>\n                <span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n                <span class=\"n\">cloned_via_layer</span><span class=\"o\">.</span><span class=\"n\">SetRefLayer</span><span class=\"p\">(</span><span class=\"n\">lower_ref</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">)</span>\n                <span class=\"n\">cloned_via_layer</span><span class=\"o\">.</span><span class=\"n\">SetRefLayer</span><span class=\"p\">(</span><span class=\"n\">upper_ref</span><span class=\"p\">,</span> <span class=\"kc\">False</span><span class=\"p\">)</span>\n                <span class=\"n\">ref_layer_in_flipped_stackup</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n                    <span class=\"n\">lay</span>\n                    <span class=\"k\">for</span> <span class=\"n\">lay</span> <span class=\"ow\">in</span> <span class=\"n\">new_lc</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">AllLayerSet</span><span class=\"p\">)</span>\n                    <span class=\"k\">if</span> <span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">upper_ref_name</span>\n                <span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n                <span class=\"n\">via_layer_lower_elevation</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n                    <span class=\"n\">ref_layer_in_flipped_stackup</span><span class=\"o\">.</span><span class=\"n\">GetLowerElevation</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"n\">ref_layer_in_flipped_stackup</span><span class=\"o\">.</span><span class=\"n\">GetThickness</span><span class=\"p\">()</span>\n                <span class=\"p\">)</span>\n                <span class=\"n\">cloned_via_layer</span><span class=\"o\">.</span><span class=\"n\">SetLowerElevation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">via_layer_lower_elevation</span><span class=\"p\">))</span>\n                <span class=\"n\">new_lc</span><span class=\"o\">.</span><span class=\"n\">AddStackupLayerAtElevation</span><span class=\"p\">(</span><span class=\"n\">cloned_via_layer</span><span class=\"p\">)</span>\n\n            <span class=\"n\">layer_list</span> <span class=\"o\">=</span> <span class=\"n\">convert_py_list_to_net_list</span><span class=\"p\">(</span><span class=\"n\">non_stackup_layers</span><span class=\"p\">)</span>\n            <span class=\"n\">new_lc</span><span class=\"o\">.</span><span class=\"n\">AddLayers</span><span class=\"p\">(</span><span class=\"n\">layer_list</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">active_layout</span><span class=\"o\">.</span><span class=\"n\">SetLayerCollection</span><span class=\"p\">(</span><span class=\"n\">new_lc</span><span class=\"p\">):</span>\n                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s2\">&quot;Failed to Flip Stackup.&quot;</span><span class=\"p\">)</span>\n                <span class=\"k\">return</span> <span class=\"kc\">False</span>\n            <span class=\"k\">for</span> <span class=\"n\">pyaedt_cmp</span> <span class=\"ow\">in</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">core_components</span><span class=\"o\">.</span><span class=\"n\">components</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">()):</span>\n                <span class=\"n\">cmp</span> <span class=\"o\">=</span> <span class=\"n\">pyaedt_cmp</span><span class=\"o\">.</span><span class=\"n\">edbcomponent</span>\n                <span class=\"n\">cmp_type</span> <span class=\"o\">=</span> <span class=\"n\">cmp</span><span class=\"o\">.</span><span class=\"n\">GetComponentType</span><span class=\"p\">()</span>\n                <span class=\"n\">cmp_prop</span> <span class=\"o\">=</span> <span class=\"n\">cmp</span><span class=\"o\">.</span><span class=\"n\">GetComponentProperty</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">Clone</span><span class=\"p\">()</span>\n                <span class=\"k\">try</span><span class=\"p\">:</span>\n                    <span class=\"k\">if</span> <span class=\"p\">(</span>\n                        <span class=\"n\">cmp_prop</span><span class=\"o\">.</span><span class=\"n\">GetSolderBallProperty</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">GetPlacement</span><span class=\"p\">()</span>\n                        <span class=\"o\">==</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">Definition</span><span class=\"o\">.</span><span class=\"n\">SolderballPlacement</span><span class=\"o\">.</span><span class=\"n\">AbovePadstack</span>\n                    <span class=\"p\">):</span>\n                        <span class=\"n\">sball_prop</span> <span class=\"o\">=</span> <span class=\"n\">cmp_prop</span><span class=\"o\">.</span><span class=\"n\">GetSolderBallProperty</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">Clone</span><span class=\"p\">()</span>\n                        <span class=\"n\">sball_prop</span><span class=\"o\">.</span><span class=\"n\">SetPlacement</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">Definition</span><span class=\"o\">.</span><span class=\"n\">SolderballPlacement</span><span class=\"o\">.</span><span class=\"n\">BelowPadstack</span><span class=\"p\">)</span>\n                        <span class=\"n\">cmp_prop</span><span class=\"o\">.</span><span class=\"n\">SetSolderBallProperty</span><span class=\"p\">(</span><span class=\"n\">sball_prop</span><span class=\"p\">)</span>\n                    <span class=\"k\">elif</span> <span class=\"p\">(</span>\n                        <span class=\"n\">cmp_prop</span><span class=\"o\">.</span><span class=\"n\">GetSolderBallProperty</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">GetPlacement</span><span class=\"p\">()</span>\n                        <span class=\"o\">==</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">Definition</span><span class=\"o\">.</span><span class=\"n\">SolderballPlacement</span><span class=\"o\">.</span><span class=\"n\">BelowPadstack</span>\n                    <span class=\"p\">):</span>\n                        <span class=\"n\">sball_prop</span> <span class=\"o\">=</span> <span class=\"n\">cmp_prop</span><span class=\"o\">.</span><span class=\"n\">GetSolderBallProperty</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">Clone</span><span class=\"p\">()</span>\n                        <span class=\"n\">sball_prop</span><span class=\"o\">.</span><span class=\"n\">SetPlacement</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">Definition</span><span class=\"o\">.</span><span class=\"n\">SolderballPlacement</span><span class=\"o\">.</span><span class=\"n\">AbovePadstack</span><span class=\"p\">)</span>\n                        <span class=\"n\">cmp_prop</span><span class=\"o\">.</span><span class=\"n\">SetSolderBallProperty</span><span class=\"p\">(</span><span class=\"n\">sball_prop</span><span class=\"p\">)</span>\n                <span class=\"k\">except</span><span class=\"p\">:</span>\n                    <span class=\"k\">pass</span>\n                <span class=\"k\">if</span> <span class=\"n\">cmp_type</span> <span class=\"o\">==</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">Definition</span><span class=\"o\">.</span><span class=\"n\">ComponentType</span><span class=\"o\">.</span><span class=\"n\">IC</span><span class=\"p\">:</span>\n                    <span class=\"n\">die_prop</span> <span class=\"o\">=</span> <span class=\"n\">cmp_prop</span><span class=\"o\">.</span><span class=\"n\">GetDieProperty</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">Clone</span><span class=\"p\">()</span>\n                    <span class=\"n\">chip_orientation</span> <span class=\"o\">=</span> <span class=\"n\">die_prop</span><span class=\"o\">.</span><span class=\"n\">GetOrientation</span><span class=\"p\">()</span>\n                    <span class=\"k\">if</span> <span class=\"n\">chip_orientation</span> <span class=\"o\">==</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">Definition</span><span class=\"o\">.</span><span class=\"n\">DieOrientation</span><span class=\"o\">.</span><span class=\"n\">ChipDown</span><span class=\"p\">:</span>\n                        <span class=\"n\">die_prop</span><span class=\"o\">.</span><span class=\"n\">SetOrientation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">Definition</span><span class=\"o\">.</span><span class=\"n\">DieOrientation</span><span class=\"o\">.</span><span class=\"n\">ChipUp</span><span class=\"p\">)</span>\n                        <span class=\"n\">cmp_prop</span><span class=\"o\">.</span><span class=\"n\">SetDieProperty</span><span class=\"p\">(</span><span class=\"n\">die_prop</span><span class=\"p\">)</span>\n                    <span class=\"k\">else</span><span class=\"p\">:</span>\n                        <span class=\"n\">die_prop</span><span class=\"o\">.</span><span class=\"n\">SetOrientation</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">Definition</span><span class=\"o\">.</span><span class=\"n\">DieOrientation</span><span class=\"o\">.</span><span class=\"n\">ChipDown</span><span class=\"p\">)</span>\n                        <span class=\"n\">cmp_prop</span><span class=\"o\">.</span><span class=\"n\">SetDieProperty</span><span class=\"p\">(</span><span class=\"n\">die_prop</span><span class=\"p\">)</span>\n                <span class=\"n\">cmp</span><span class=\"o\">.</span><span class=\"n\">SetComponentProperty</span><span class=\"p\">(</span><span class=\"n\">cmp_prop</span><span class=\"p\">)</span>\n\n            <span class=\"n\">lay_list</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">new_lc</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">SignalLayerSet</span><span class=\"p\">))</span>\n            <span class=\"k\">for</span> <span class=\"n\">padstack</span> <span class=\"ow\">in</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">core_padstack</span><span class=\"o\">.</span><span class=\"n\">padstack_instances</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">()):</span>\n                <span class=\"n\">start_layer_id</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">GetLayerId</span><span class=\"p\">()</span> <span class=\"k\">for</span> <span class=\"n\">lay</span> <span class=\"ow\">in</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">lay_list</span><span class=\"p\">)</span> <span class=\"k\">if</span> <span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">padstack</span><span class=\"o\">.</span><span class=\"n\">start_layer</span><span class=\"p\">]</span>\n                <span class=\"n\">stop_layer_id</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">GetLayerId</span><span class=\"p\">()</span> <span class=\"k\">for</span> <span class=\"n\">lay</span> <span class=\"ow\">in</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">lay_list</span><span class=\"p\">)</span> <span class=\"k\">if</span> <span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">padstack</span><span class=\"o\">.</span><span class=\"n\">stop_layer</span><span class=\"p\">]</span>\n                <span class=\"n\">layer_map</span> <span class=\"o\">=</span> <span class=\"n\">padstack</span><span class=\"o\">.</span><span class=\"n\">_edb_padstackinstance</span><span class=\"o\">.</span><span class=\"n\">GetLayerMap</span><span class=\"p\">()</span>\n                <span class=\"n\">layer_map</span><span class=\"o\">.</span><span class=\"n\">SetMapping</span><span class=\"p\">(</span><span class=\"n\">stop_layer_id</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">start_layer_id</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n                <span class=\"n\">padstack</span><span class=\"o\">.</span><span class=\"n\">_edb_padstackinstance</span><span class=\"o\">.</span><span class=\"n\">SetLayerMap</span><span class=\"p\">(</span><span class=\"n\">layer_map</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"kc\">True</span>\n        <span class=\"k\">except</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span></div>\n\n<div class=\"viewcode-block\" id=\"Stackup.get_layout_thickness\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.get_layout_thickness/#pyaedt.edb_core.stackup.Stackup.get_layout_thickness\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">get_layout_thickness</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Return the layout thickness.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        float</span>\n<span class=\"sd\">            The thickness value.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">layers_name</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">())</span>\n        <span class=\"n\">bottom_layer</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"p\">[</span><span class=\"n\">layers_name</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]]</span>\n        <span class=\"n\">top_layer</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"p\">[</span><span class=\"n\">layers_name</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]]</span>\n        <span class=\"n\">thickness</span> <span class=\"o\">=</span> <span class=\"n\">top_layer</span><span class=\"o\">.</span><span class=\"n\">lower_elevation</span> <span class=\"o\">+</span> <span class=\"n\">top_layer</span><span class=\"o\">.</span><span class=\"n\">thickness</span> <span class=\"o\">-</span> <span class=\"n\">bottom_layer</span><span class=\"o\">.</span><span class=\"n\">lower_elevation</span>\n        <span class=\"k\">return</span> <span class=\"n\">thickness</span></div>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_get_solder_height</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">layer_name</span><span class=\"p\">):</span>\n        <span class=\"k\">for</span> <span class=\"n\">el</span><span class=\"p\">,</span> <span class=\"n\">val</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">core_components</span><span class=\"o\">.</span><span class=\"n\">components</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n            <span class=\"k\">if</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">solder_ball_height</span> <span class=\"ow\">and</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">placement_layer</span> <span class=\"o\">==</span> <span class=\"n\">layer_name</span><span class=\"p\">:</span>\n                <span class=\"k\">return</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">solder_ball_height</span>\n        <span class=\"k\">return</span> <span class=\"mi\">0</span>\n\n    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_remove_solder_pec</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">layer_name</span><span class=\"p\">):</span>\n        <span class=\"k\">for</span> <span class=\"n\">el</span><span class=\"p\">,</span> <span class=\"n\">val</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">core_components</span><span class=\"o\">.</span><span class=\"n\">components</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n            <span class=\"k\">if</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">solder_ball_height</span> <span class=\"ow\">and</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">placement_layer</span> <span class=\"o\">==</span> <span class=\"n\">layer_name</span><span class=\"p\">:</span>\n                <span class=\"n\">comp_prop</span> <span class=\"o\">=</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">component_property</span>\n                <span class=\"n\">port_property</span> <span class=\"o\">=</span> <span class=\"n\">comp_prop</span><span class=\"o\">.</span><span class=\"n\">GetPortProperty</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">Clone</span><span class=\"p\">()</span>\n                <span class=\"n\">port_property</span><span class=\"o\">.</span><span class=\"n\">SetReferenceSizeAuto</span><span class=\"p\">(</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n                <span class=\"n\">port_property</span><span class=\"o\">.</span><span class=\"n\">SetReferenceSize</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">),</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">))</span>\n                <span class=\"n\">comp_prop</span><span class=\"o\">.</span><span class=\"n\">SetPortProperty</span><span class=\"p\">(</span><span class=\"n\">port_property</span><span class=\"p\">)</span>\n                <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">edbcomponent</span><span class=\"o\">.</span><span class=\"n\">SetComponentProperty</span><span class=\"p\">(</span><span class=\"n\">comp_prop</span><span class=\"p\">)</span>\n\n<div class=\"viewcode-block\" id=\"Stackup.adjust_solder_dielectrics\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.adjust_solder_dielectrics/#pyaedt.edb_core.stackup.Stackup.adjust_solder_dielectrics\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">adjust_solder_dielectrics</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Adjust the stack-up by adding or modifying dielectric layers that contains Solder Balls.</span>\n<span class=\"sd\">        This method identifies the solder-ball height and adjust the dielectric thickness on top (or bottom) to fit</span>\n<span class=\"sd\">        the thickness in order to merge another layout.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">for</span> <span class=\"n\">el</span><span class=\"p\">,</span> <span class=\"n\">val</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">core_components</span><span class=\"o\">.</span><span class=\"n\">components</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n            <span class=\"k\">if</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">solder_ball_height</span><span class=\"p\">:</span>\n                <span class=\"n\">layer</span> <span class=\"o\">=</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">placement_layer</span>\n                <span class=\"k\">if</span> <span class=\"n\">layer</span> <span class=\"o\">==</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">())[</span><span class=\"mi\">0</span><span class=\"p\">]:</span>\n                    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n                        <span class=\"s2\">&quot;Bottom_air&quot;</span><span class=\"p\">,</span>\n                        <span class=\"n\">base_layer</span><span class=\"o\">=</span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">())[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">],</span>\n                        <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">&quot;insert_below&quot;</span><span class=\"p\">,</span>\n                        <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"s2\">&quot;air&quot;</span><span class=\"p\">,</span>\n                        <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">solder_ball_height</span><span class=\"p\">,</span>\n                        <span class=\"n\">layer_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;dielectric&quot;</span><span class=\"p\">,</span>\n                    <span class=\"p\">)</span>\n                <span class=\"k\">elif</span> <span class=\"n\">layer</span> <span class=\"o\">==</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">())[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]:</span>\n                    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_layer</span><span class=\"p\">(</span>\n                        <span class=\"s2\">&quot;Top_Air&quot;</span><span class=\"p\">,</span>\n                        <span class=\"n\">base_layer</span><span class=\"o\">=</span><span class=\"n\">layer</span><span class=\"p\">,</span>\n                        <span class=\"n\">material</span><span class=\"o\">=</span><span class=\"s2\">&quot;air&quot;</span><span class=\"p\">,</span>\n                        <span class=\"n\">thickness</span><span class=\"o\">=</span><span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">solder_ball_height</span><span class=\"p\">,</span>\n                        <span class=\"n\">layer_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;dielectric&quot;</span><span class=\"p\">,</span>\n                    <span class=\"p\">)</span>\n                <span class=\"k\">elif</span> <span class=\"n\">layer</span> <span class=\"o\">==</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">signal_layers</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">())[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]:</span>\n                    <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">())[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">thickness</span> <span class=\"o\">=</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">solder_ball_height</span>\n\n                <span class=\"k\">elif</span> <span class=\"n\">layer</span> <span class=\"o\">==</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">signal_layers</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">())[</span><span class=\"mi\">0</span><span class=\"p\">]:</span>\n                    <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">())[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">thickness</span> <span class=\"o\">=</span> <span class=\"n\">val</span><span class=\"o\">.</span><span class=\"n\">solder_ball_height</span>\n        <span class=\"k\">return</span> <span class=\"kc\">True</span></div>\n\n<div class=\"viewcode-block\" id=\"Stackup.place_in_layout\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.place_in_layout/#pyaedt.edb_core.stackup.Stackup.place_in_layout\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">place_in_layout</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">edb</span><span class=\"p\">,</span>\n        <span class=\"n\">angle</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span>\n        <span class=\"n\">offset_x</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span>\n        <span class=\"n\">offset_y</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span>\n        <span class=\"n\">flipped_stackup</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"n\">place_on_top</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Place current Cell into another cell using layer placement method.</span>\n<span class=\"sd\">        Flip the current layer stackup of a layout if requested. Transform parameters currently not supported.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        edb : Edb</span>\n<span class=\"sd\">            Cell on which to place the current layout. If None the Cell will be applied on an empty new Cell.</span>\n<span class=\"sd\">        angle : double, optional</span>\n<span class=\"sd\">            The rotation angle applied on the design.</span>\n<span class=\"sd\">        offset_x : double, optional</span>\n<span class=\"sd\">            The x offset value.</span>\n<span class=\"sd\">        offset_y : double, optional</span>\n<span class=\"sd\">            The y offset value.</span>\n<span class=\"sd\">        flipped_stackup : bool, optional</span>\n<span class=\"sd\">            Either if the current layout is inverted.</span>\n<span class=\"sd\">            If `True` and place_on_top is `True` the stackup will be flipped before the merge.</span>\n<span class=\"sd\">        place_on_top : bool, optional</span>\n<span class=\"sd\">            Either if place the current layout on Top or Bottom of destination Layout.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when succeed ``False`` if not.</span>\n\n<span class=\"sd\">        Examples</span>\n<span class=\"sd\">        --------</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb1 = Edb(edbpath=targetfile1,  edbversion=&quot;2021.2&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb2 = Edb(edbpath=targetfile2, edbversion=&quot;2021.2&quot;)</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; hosting_cmp = edb1.core_components.get_component_by_name(&quot;U100&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; mounted_cmp = edb2.core_components.get_component_by_name(&quot;BGA&quot;)</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; vector, rotation, solder_ball_height = edb1.core_components.get_component_placement_vector(</span>\n<span class=\"sd\">        ...                                                     mounted_component=mounted_cmp,</span>\n<span class=\"sd\">        ...                                                     hosting_component=hosting_cmp,</span>\n<span class=\"sd\">        ...                                                     mounted_component_pin1=&quot;A12&quot;,</span>\n<span class=\"sd\">        ...                                                     mounted_component_pin2=&quot;A14&quot;,</span>\n<span class=\"sd\">        ...                                                     hosting_component_pin1=&quot;A12&quot;,</span>\n<span class=\"sd\">        ...                                                     hosting_component_pin2=&quot;A14&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb2.stackup.place_in_layout(edb1.active_cell, angle=0.0, offset_x=vector[0],</span>\n<span class=\"sd\">        ...                              offset_y=vector[1], flipped_stackup=False, place_on_top=True,</span>\n<span class=\"sd\">        ...                              )</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"c1\"># if flipped_stackup and place_on_top or (not flipped_stackup and not place_on_top):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">adjust_solder_dielectrics</span><span class=\"p\">()</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">place_on_top</span><span class=\"p\">:</span>\n            <span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">stackup</span><span class=\"o\">.</span><span class=\"n\">flip_design</span><span class=\"p\">()</span>\n            <span class=\"n\">place_on_top</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">flipped_stackup</span><span class=\"p\">:</span>\n                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">flip_design</span><span class=\"p\">()</span>\n        <span class=\"k\">elif</span> <span class=\"n\">flipped_stackup</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">flip_design</span><span class=\"p\">()</span>\n        <span class=\"n\">edb_cell</span> <span class=\"o\">=</span> <span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">active_cell</span>\n        <span class=\"n\">_angle</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">angle</span> <span class=\"o\">*</span> <span class=\"n\">math</span><span class=\"o\">.</span><span class=\"n\">pi</span> <span class=\"o\">/</span> <span class=\"mf\">180.0</span><span class=\"p\">)</span>\n        <span class=\"n\">_offset_x</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">offset_x</span><span class=\"p\">)</span>\n        <span class=\"n\">_offset_y</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">offset_y</span><span class=\"p\">)</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">edb_cell</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">cell_names</span><span class=\"p\">:</span>\n            <span class=\"n\">_dbCell</span> <span class=\"o\">=</span> <span class=\"n\">convert_py_list_to_net_list</span><span class=\"p\">([</span><span class=\"n\">edb_cell</span><span class=\"p\">])</span>\n            <span class=\"n\">list_cells</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">CopyCells</span><span class=\"p\">(</span><span class=\"n\">_dbCell</span><span class=\"p\">)</span>\n            <span class=\"n\">edb_cell</span> <span class=\"o\">=</span> <span class=\"n\">list_cells</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">active_layout</span><span class=\"o\">.</span><span class=\"n\">GetCell</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">SetBlackBox</span><span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n        <span class=\"n\">cell_inst2</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">Hierarchy</span><span class=\"o\">.</span><span class=\"n\">CellInstance</span><span class=\"o\">.</span><span class=\"n\">Create</span><span class=\"p\">(</span>\n            <span class=\"n\">edb_cell</span><span class=\"o\">.</span><span class=\"n\">GetLayout</span><span class=\"p\">(),</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">active_layout</span><span class=\"o\">.</span><span class=\"n\">GetCell</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">(),</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">active_layout</span>\n        <span class=\"p\">)</span>\n        <span class=\"n\">cell_trans</span> <span class=\"o\">=</span> <span class=\"n\">cell_inst2</span><span class=\"o\">.</span><span class=\"n\">GetTransform</span><span class=\"p\">()</span>\n        <span class=\"n\">cell_trans</span><span class=\"o\">.</span><span class=\"n\">SetRotationValue</span><span class=\"p\">(</span><span class=\"n\">_angle</span><span class=\"p\">)</span>\n        <span class=\"n\">cell_trans</span><span class=\"o\">.</span><span class=\"n\">SetXOffsetValue</span><span class=\"p\">(</span><span class=\"n\">_offset_x</span><span class=\"p\">)</span>\n        <span class=\"n\">cell_trans</span><span class=\"o\">.</span><span class=\"n\">SetYOffsetValue</span><span class=\"p\">(</span><span class=\"n\">_offset_y</span><span class=\"p\">)</span>\n        <span class=\"n\">cell_trans</span><span class=\"o\">.</span><span class=\"n\">SetMirror</span><span class=\"p\">(</span><span class=\"n\">flipped_stackup</span><span class=\"p\">)</span>\n        <span class=\"n\">cell_inst2</span><span class=\"o\">.</span><span class=\"n\">SetTransform</span><span class=\"p\">(</span><span class=\"n\">cell_trans</span><span class=\"p\">)</span>\n        <span class=\"n\">cell_inst2</span><span class=\"o\">.</span><span class=\"n\">SetSolveIndependentPreference</span><span class=\"p\">(</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n        <span class=\"n\">stackup_target</span> <span class=\"o\">=</span> <span class=\"n\">edb_cell</span><span class=\"o\">.</span><span class=\"n\">GetLayout</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">GetLayerCollection</span><span class=\"p\">()</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">place_on_top</span><span class=\"p\">:</span>\n            <span class=\"n\">cell_inst2</span><span class=\"o\">.</span><span class=\"n\">SetPlacementLayer</span><span class=\"p\">(</span>\n                <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">stackup_target</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">SignalLayerSet</span><span class=\"p\">))[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n            <span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">cell_inst2</span><span class=\"o\">.</span><span class=\"n\">SetPlacementLayer</span><span class=\"p\">(</span>\n                <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">stackup_target</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">SignalLayerSet</span><span class=\"p\">))[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n            <span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"kc\">True</span></div>\n\n<div class=\"viewcode-block\" id=\"Stackup.place_in_layout_3d_placement\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.place_in_layout_3d_placement/#pyaedt.edb_core.stackup.Stackup.place_in_layout_3d_placement\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">place_in_layout_3d_placement</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">edb</span><span class=\"p\">,</span>\n        <span class=\"n\">angle</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span>\n        <span class=\"n\">offset_x</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span>\n        <span class=\"n\">offset_y</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span>\n        <span class=\"n\">flipped_stackup</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"n\">place_on_top</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"n\">solder_height</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Place current Cell into another cell using 3d placement method.</span>\n<span class=\"sd\">        Flip the current layer stackup of a layout if requested. Transform parameters currently not supported.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        edb : Edb</span>\n<span class=\"sd\">            Cell on which to place the current layout. If None the Cell will be applied on an empty new Cell.</span>\n<span class=\"sd\">        angle : double, optional</span>\n<span class=\"sd\">            The rotation angle applied on the design.</span>\n<span class=\"sd\">        offset_x : double, optional</span>\n<span class=\"sd\">            The x offset value.</span>\n<span class=\"sd\">        offset_y : double, optional</span>\n<span class=\"sd\">            The y offset value.</span>\n<span class=\"sd\">        flipped_stackup : bool, optional</span>\n<span class=\"sd\">            Either if the current layout is inverted.</span>\n<span class=\"sd\">            If `True` and place_on_top is `True` the stackup will be flipped before the merge.</span>\n<span class=\"sd\">        place_on_top : bool, optional</span>\n<span class=\"sd\">            Either if place the current layout on Top or Bottom of destination Layout.</span>\n<span class=\"sd\">        solder_height : float, optional</span>\n<span class=\"sd\">            Solder Ball or Bumps eight.</span>\n<span class=\"sd\">            This value will be added to the elevation to align the two layouts.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when succeed ``False`` if not.</span>\n\n<span class=\"sd\">        Examples</span>\n<span class=\"sd\">        --------</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb1 = Edb(edbpath=targetfile1,  edbversion=&quot;2021.2&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb2 = Edb(edbpath=targetfile2, edbversion=&quot;2021.2&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; hosting_cmp = edb1.core_components.get_component_by_name(&quot;U100&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; mounted_cmp = edb2.core_components.get_component_by_name(&quot;BGA&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb2.stackup.place_in_layout(edb1.active_cell, angle=0.0, offset_x=&quot;1mm&quot;,</span>\n<span class=\"sd\">        ...                                   offset_y=&quot;2mm&quot;, flipped_stackup=False, place_on_top=True,</span>\n<span class=\"sd\">        ...                                   )</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">_angle</span> <span class=\"o\">=</span> <span class=\"n\">angle</span> <span class=\"o\">*</span> <span class=\"n\">math</span><span class=\"o\">.</span><span class=\"n\">pi</span> <span class=\"o\">/</span> <span class=\"mf\">180.0</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">solder_height</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">flipped_stackup</span> <span class=\"ow\">and</span> <span class=\"ow\">not</span> <span class=\"n\">place_on_top</span> <span class=\"ow\">or</span> <span class=\"p\">(</span><span class=\"n\">place_on_top</span> <span class=\"ow\">and</span> <span class=\"ow\">not</span> <span class=\"n\">flipped_stackup</span><span class=\"p\">):</span>\n                <span class=\"n\">minimum_elevation</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n                <span class=\"n\">layers_from_the_bottom</span> <span class=\"o\">=</span> <span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">signal_layers</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">(),</span> <span class=\"n\">key</span><span class=\"o\">=</span><span class=\"k\">lambda</span> <span class=\"n\">lay</span><span class=\"p\">:</span> <span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">upper_elevation</span><span class=\"p\">)</span>\n                <span class=\"k\">for</span> <span class=\"n\">lay</span> <span class=\"ow\">in</span> <span class=\"n\">layers_from_the_bottom</span><span class=\"p\">:</span>\n                    <span class=\"k\">if</span> <span class=\"n\">minimum_elevation</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n                        <span class=\"n\">minimum_elevation</span> <span class=\"o\">=</span> <span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">lower_elevation</span>\n                    <span class=\"k\">elif</span> <span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">lower_elevation</span> <span class=\"o\">&gt;</span> <span class=\"n\">minimum_elevation</span><span class=\"p\">:</span>\n                        <span class=\"k\">break</span>\n                    <span class=\"n\">lay_solder_height</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_get_solder_height</span><span class=\"p\">(</span><span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n                    <span class=\"n\">solder_height</span> <span class=\"o\">=</span> <span class=\"nb\">max</span><span class=\"p\">(</span><span class=\"n\">lay_solder_height</span><span class=\"p\">,</span> <span class=\"n\">solder_height</span><span class=\"p\">)</span>\n                    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_remove_solder_pec</span><span class=\"p\">(</span><span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"n\">maximum_elevation</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n                <span class=\"n\">layers_from_the_top</span> <span class=\"o\">=</span> <span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">signal_layers</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">(),</span> <span class=\"n\">key</span><span class=\"o\">=</span><span class=\"k\">lambda</span> <span class=\"n\">lay</span><span class=\"p\">:</span> <span class=\"o\">-</span><span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">upper_elevation</span><span class=\"p\">)</span>\n                <span class=\"k\">for</span> <span class=\"n\">lay</span> <span class=\"ow\">in</span> <span class=\"n\">layers_from_the_top</span><span class=\"p\">:</span>\n                    <span class=\"k\">if</span> <span class=\"n\">maximum_elevation</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n                        <span class=\"n\">maximum_elevation</span> <span class=\"o\">=</span> <span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">upper_elevation</span>\n                    <span class=\"k\">elif</span> <span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">upper_elevation</span> <span class=\"o\">&lt;</span> <span class=\"n\">maximum_elevation</span><span class=\"p\">:</span>\n                        <span class=\"k\">break</span>\n                    <span class=\"n\">lay_solder_height</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_get_solder_height</span><span class=\"p\">(</span><span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n                    <span class=\"n\">solder_height</span> <span class=\"o\">=</span> <span class=\"nb\">max</span><span class=\"p\">(</span><span class=\"n\">lay_solder_height</span><span class=\"p\">,</span> <span class=\"n\">solder_height</span><span class=\"p\">)</span>\n                    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_remove_solder_pec</span><span class=\"p\">(</span><span class=\"n\">lay</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n\n        <span class=\"n\">rotation</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">flipped_stackup</span><span class=\"p\">:</span>\n            <span class=\"n\">rotation</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">math</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">)</span>\n\n        <span class=\"n\">edb_cell</span> <span class=\"o\">=</span> <span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">active_cell</span>\n        <span class=\"n\">_offset_x</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">offset_x</span><span class=\"p\">)</span>\n        <span class=\"n\">_offset_y</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">offset_y</span><span class=\"p\">)</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">edb_cell</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">cell_names</span><span class=\"p\">:</span>\n            <span class=\"n\">_dbCell</span> <span class=\"o\">=</span> <span class=\"n\">convert_py_list_to_net_list</span><span class=\"p\">([</span><span class=\"n\">edb_cell</span><span class=\"p\">])</span>\n            <span class=\"n\">list_cells</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">CopyCells</span><span class=\"p\">(</span><span class=\"n\">_dbCell</span><span class=\"p\">)</span>\n            <span class=\"n\">edb_cell</span> <span class=\"o\">=</span> <span class=\"n\">list_cells</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">active_layout</span><span class=\"o\">.</span><span class=\"n\">GetCell</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">SetBlackBox</span><span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n        <span class=\"n\">cell_inst2</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">Hierarchy</span><span class=\"o\">.</span><span class=\"n\">CellInstance</span><span class=\"o\">.</span><span class=\"n\">Create</span><span class=\"p\">(</span>\n            <span class=\"n\">edb_cell</span><span class=\"o\">.</span><span class=\"n\">GetLayout</span><span class=\"p\">(),</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">active_layout</span><span class=\"o\">.</span><span class=\"n\">GetCell</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">(),</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">active_layout</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"n\">stackup_target</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerCollection</span><span class=\"p\">(</span><span class=\"n\">edb_cell</span><span class=\"o\">.</span><span class=\"n\">GetLayout</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">GetLayerCollection</span><span class=\"p\">())</span>\n        <span class=\"n\">stackup_source</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerCollection</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">active_layout</span><span class=\"o\">.</span><span class=\"n\">GetLayerCollection</span><span class=\"p\">())</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">place_on_top</span><span class=\"p\">:</span>\n            <span class=\"n\">cell_inst2</span><span class=\"o\">.</span><span class=\"n\">SetPlacementLayer</span><span class=\"p\">(</span>\n                <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">stackup_target</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">SignalLayerSet</span><span class=\"p\">))[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n            <span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">cell_inst2</span><span class=\"o\">.</span><span class=\"n\">SetPlacementLayer</span><span class=\"p\">(</span>\n                <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">stackup_target</span><span class=\"o\">.</span><span class=\"n\">Layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">SignalLayerSet</span><span class=\"p\">))[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n            <span class=\"p\">)</span>\n        <span class=\"n\">cell_inst2</span><span class=\"o\">.</span><span class=\"n\">SetIs3DPlacement</span><span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n        <span class=\"n\">sig_set</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">SignalLayerSet</span>\n        <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">stackup_target</span><span class=\"o\">.</span><span class=\"n\">GetTopBottomStackupLayers</span><span class=\"p\">(</span><span class=\"n\">sig_set</span><span class=\"p\">)</span>\n        <span class=\"n\">target_top_elevation</span> <span class=\"o\">=</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span>\n        <span class=\"n\">target_bottom_elevation</span> <span class=\"o\">=</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]</span>\n        <span class=\"n\">res_s</span> <span class=\"o\">=</span> <span class=\"n\">stackup_source</span><span class=\"o\">.</span><span class=\"n\">GetTopBottomStackupLayers</span><span class=\"p\">(</span><span class=\"n\">sig_set</span><span class=\"p\">)</span>\n        <span class=\"n\">source_stack_top_elevation</span> <span class=\"o\">=</span> <span class=\"n\">res_s</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span>\n        <span class=\"n\">source_stack_bot_elevation</span> <span class=\"o\">=</span> <span class=\"n\">res_s</span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">place_on_top</span> <span class=\"ow\">and</span> <span class=\"n\">flipped_stackup</span><span class=\"p\">:</span>\n            <span class=\"n\">elevation</span> <span class=\"o\">=</span> <span class=\"n\">target_top_elevation</span> <span class=\"o\">+</span> <span class=\"n\">source_stack_top_elevation</span>\n        <span class=\"k\">elif</span> <span class=\"n\">place_on_top</span><span class=\"p\">:</span>\n            <span class=\"n\">elevation</span> <span class=\"o\">=</span> <span class=\"n\">target_top_elevation</span> <span class=\"o\">-</span> <span class=\"n\">source_stack_bot_elevation</span>\n        <span class=\"k\">elif</span> <span class=\"n\">flipped_stackup</span><span class=\"p\">:</span>\n            <span class=\"n\">elevation</span> <span class=\"o\">=</span> <span class=\"n\">target_bottom_elevation</span> <span class=\"o\">+</span> <span class=\"n\">source_stack_bot_elevation</span>\n            <span class=\"n\">solder_height</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"n\">solder_height</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">elevation</span> <span class=\"o\">=</span> <span class=\"n\">target_bottom_elevation</span> <span class=\"o\">-</span> <span class=\"n\">source_stack_top_elevation</span>\n            <span class=\"n\">solder_height</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"n\">solder_height</span>\n\n        <span class=\"n\">h_stackup</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">elevation</span> <span class=\"o\">+</span> <span class=\"n\">solder_height</span><span class=\"p\">)</span>\n\n        <span class=\"n\">zero_data</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">)</span>\n        <span class=\"n\">one_data</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"mf\">1.0</span><span class=\"p\">)</span>\n        <span class=\"n\">point3d_t</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Geometry</span><span class=\"o\">.</span><span class=\"n\">Point3DData</span><span class=\"p\">(</span><span class=\"n\">_offset_x</span><span class=\"p\">,</span> <span class=\"n\">_offset_y</span><span class=\"p\">,</span> <span class=\"n\">h_stackup</span><span class=\"p\">)</span>\n        <span class=\"n\">point_loc</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Geometry</span><span class=\"o\">.</span><span class=\"n\">Point3DData</span><span class=\"p\">(</span><span class=\"n\">zero_data</span><span class=\"p\">,</span> <span class=\"n\">zero_data</span><span class=\"p\">,</span> <span class=\"n\">zero_data</span><span class=\"p\">)</span>\n        <span class=\"n\">point_from</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Geometry</span><span class=\"o\">.</span><span class=\"n\">Point3DData</span><span class=\"p\">(</span><span class=\"n\">one_data</span><span class=\"p\">,</span> <span class=\"n\">zero_data</span><span class=\"p\">,</span> <span class=\"n\">zero_data</span><span class=\"p\">)</span>\n        <span class=\"n\">point_to</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Geometry</span><span class=\"o\">.</span><span class=\"n\">Point3DData</span><span class=\"p\">(</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">math</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">_angle</span><span class=\"p\">)),</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">*</span> <span class=\"n\">math</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">_angle</span><span class=\"p\">)),</span> <span class=\"n\">zero_data</span>\n        <span class=\"p\">)</span>\n        <span class=\"n\">cell_inst2</span><span class=\"o\">.</span><span class=\"n\">Set3DTransformation</span><span class=\"p\">(</span><span class=\"n\">point_loc</span><span class=\"p\">,</span> <span class=\"n\">point_from</span><span class=\"p\">,</span> <span class=\"n\">point_to</span><span class=\"p\">,</span> <span class=\"n\">rotation</span><span class=\"p\">,</span> <span class=\"n\">point3d_t</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"kc\">True</span></div>\n\n<div class=\"viewcode-block\" id=\"Stackup.place_a3dcomp_3d_placement\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.place_a3dcomp_3d_placement/#pyaedt.edb_core.stackup.Stackup.place_a3dcomp_3d_placement\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">place_a3dcomp_3d_placement</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">a3dcomp_path</span><span class=\"p\">,</span> <span class=\"n\">angle</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">offset_x</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">offset_y</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">place_on_top</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Place a 3D Component into current layout.</span>\n<span class=\"sd\">         3D Component ports are not visible via EDB. They will be visible after the EDB has been opened in Ansys</span>\n<span class=\"sd\">         Electronics Desktop as a project.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        a3dcomp_path : str</span>\n<span class=\"sd\">            Path to the 3D Component file (\\\\*.a3dcomp) to place.</span>\n<span class=\"sd\">        angle : double, optional</span>\n<span class=\"sd\">            Clockwise rotation angle applied to the a3dcomp.</span>\n<span class=\"sd\">        offset_x : double, optional</span>\n<span class=\"sd\">            The x offset value.</span>\n<span class=\"sd\">            The default value is ``0.0``.</span>\n<span class=\"sd\">        offset_y : double, optional</span>\n<span class=\"sd\">            The y offset value.</span>\n<span class=\"sd\">            The default value is ``0.0``.</span>\n<span class=\"sd\">        place_on_top : bool, optional</span>\n<span class=\"sd\">            Whether to place the 3D Component on the top or the bottom of this layout.</span>\n<span class=\"sd\">            If ``False`` then the 3D Component will also be flipped over around its X axis.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` if successful and ``False`` if not.</span>\n\n<span class=\"sd\">        Examples</span>\n<span class=\"sd\">        --------</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb1 = Edb(edbpath=targetfile1,  edbversion=&quot;2021.2&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; a3dcomp_path = &quot;connector.a3dcomp&quot;</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb1.stackup.place_a3dcomp_3d_placement(a3dcomp_path, angle=0.0, offset_x=&quot;1mm&quot;,</span>\n<span class=\"sd\">        ...                                   offset_y=&quot;2mm&quot;, flipped_stackup=False, place_on_top=True,</span>\n<span class=\"sd\">        ...                                   )</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">zero_data</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">)</span>\n        <span class=\"n\">one_data</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"mf\">1.0</span><span class=\"p\">)</span>\n        <span class=\"n\">local_origin</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Geometry</span><span class=\"o\">.</span><span class=\"n\">Point3DData</span><span class=\"p\">(</span><span class=\"n\">zero_data</span><span class=\"p\">,</span> <span class=\"n\">zero_data</span><span class=\"p\">,</span> <span class=\"n\">zero_data</span><span class=\"p\">)</span>\n        <span class=\"n\">rotation_axis_from</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Geometry</span><span class=\"o\">.</span><span class=\"n\">Point3DData</span><span class=\"p\">(</span><span class=\"n\">one_data</span><span class=\"p\">,</span> <span class=\"n\">zero_data</span><span class=\"p\">,</span> <span class=\"n\">zero_data</span><span class=\"p\">)</span>\n        <span class=\"n\">_angle</span> <span class=\"o\">=</span> <span class=\"n\">angle</span> <span class=\"o\">*</span> <span class=\"n\">math</span><span class=\"o\">.</span><span class=\"n\">pi</span> <span class=\"o\">/</span> <span class=\"mf\">180.0</span>\n        <span class=\"n\">rotation_axis_to</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Geometry</span><span class=\"o\">.</span><span class=\"n\">Point3DData</span><span class=\"p\">(</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">math</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">_angle</span><span class=\"p\">)),</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">1</span> <span class=\"o\">*</span> <span class=\"n\">math</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">_angle</span><span class=\"p\">)),</span> <span class=\"n\">zero_data</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"n\">stackup_target</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerCollection</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">active_layout</span><span class=\"o\">.</span><span class=\"n\">GetLayerCollection</span><span class=\"p\">())</span>\n        <span class=\"n\">sig_set</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerTypeSet</span><span class=\"o\">.</span><span class=\"n\">SignalLayerSet</span>\n        <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">stackup_target</span><span class=\"o\">.</span><span class=\"n\">GetTopBottomStackupLayers</span><span class=\"p\">(</span><span class=\"n\">sig_set</span><span class=\"p\">)</span>\n        <span class=\"n\">target_top_elevation</span> <span class=\"o\">=</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span>\n        <span class=\"n\">target_bottom_elevation</span> <span class=\"o\">=</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]</span>\n        <span class=\"n\">flip_angle</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"s2\">&quot;0deg&quot;</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">place_on_top</span><span class=\"p\">:</span>\n            <span class=\"n\">elevation</span> <span class=\"o\">=</span> <span class=\"n\">target_top_elevation</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">flip_angle</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"s2\">&quot;180deg&quot;</span><span class=\"p\">)</span>\n            <span class=\"n\">elevation</span> <span class=\"o\">=</span> <span class=\"n\">target_bottom_elevation</span>\n        <span class=\"n\">h_stackup</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">elevation</span><span class=\"p\">)</span>\n        <span class=\"n\">location</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Geometry</span><span class=\"o\">.</span><span class=\"n\">Point3DData</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">offset_x</span><span class=\"p\">),</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_edb_value</span><span class=\"p\">(</span><span class=\"n\">offset_y</span><span class=\"p\">),</span> <span class=\"n\">h_stackup</span><span class=\"p\">)</span>\n\n        <span class=\"n\">mcad_model</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">McadModel</span><span class=\"o\">.</span><span class=\"n\">Create3DComp</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">active_layout</span><span class=\"p\">,</span> <span class=\"n\">a3dcomp_path</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">mcad_model</span><span class=\"o\">.</span><span class=\"n\">IsNull</span><span class=\"p\">():</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s2\">&quot;Failed to create MCAD model from a3dcomp&quot;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span>\n\n        <span class=\"n\">cell_instance</span> <span class=\"o\">=</span> <span class=\"n\">mcad_model</span><span class=\"o\">.</span><span class=\"n\">GetCellInstance</span><span class=\"p\">()</span>\n        <span class=\"k\">if</span> <span class=\"n\">cell_instance</span><span class=\"o\">.</span><span class=\"n\">IsNull</span><span class=\"p\">():</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s2\">&quot;Cell instance of a3dcomp is null&quot;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span>\n\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">cell_instance</span><span class=\"o\">.</span><span class=\"n\">SetIs3DPlacement</span><span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">):</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s2\">&quot;Failed to set 3D placement on a3dcomp cell instance&quot;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span>\n\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">cell_instance</span><span class=\"o\">.</span><span class=\"n\">Set3DTransformation</span><span class=\"p\">(</span>\n            <span class=\"n\">local_origin</span><span class=\"p\">,</span> <span class=\"n\">rotation_axis_from</span><span class=\"p\">,</span> <span class=\"n\">rotation_axis_to</span><span class=\"p\">,</span> <span class=\"n\">flip_angle</span><span class=\"p\">,</span> <span class=\"n\">location</span>\n        <span class=\"p\">):</span>  <span class=\"c1\"># pragma: no cover</span>\n            <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s2\">&quot;Failed to set 3D transform on a3dcomp cell instance&quot;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"kc\">False</span>\n\n        <span class=\"k\">return</span> <span class=\"kc\">True</span></div>\n\n<div class=\"viewcode-block\" id=\"Stackup.residual_copper_area_per_layer\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.Stackup.residual_copper_area_per_layer/#pyaedt.edb_core.stackup.Stackup.residual_copper_area_per_layer\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span>\n    <span class=\"k\">def</span> <span class=\"nf\">residual_copper_area_per_layer</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Report residual copper area per layer in percentage.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        dict</span>\n<span class=\"sd\">            Copper area per layer.</span>\n\n<span class=\"sd\">        Examples</span>\n<span class=\"sd\">        --------</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb = Edb(edbpath=targetfile1,  edbversion=&quot;2021.2&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb.stackup.residual_copper_area_per_layer()</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">temp_data</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"n\">name</span><span class=\"p\">:</span> <span class=\"mi\">0</span> <span class=\"k\">for</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">_</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">signal_layers</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()}</span>\n        <span class=\"n\">outline_area</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n        <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">core_primitives</span><span class=\"o\">.</span><span class=\"n\">primitives</span><span class=\"p\">:</span>\n            <span class=\"n\">layer_name</span> <span class=\"o\">=</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">GetLayer</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">GetName</span><span class=\"p\">()</span>\n            <span class=\"k\">if</span> <span class=\"n\">layer_name</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;outline&quot;</span><span class=\"p\">:</span>\n                <span class=\"k\">if</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">area</span><span class=\"p\">()</span> <span class=\"o\">&gt;</span> <span class=\"n\">outline_area</span><span class=\"p\">:</span>\n                    <span class=\"n\">outline_area</span> <span class=\"o\">=</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">area</span><span class=\"p\">()</span>\n            <span class=\"k\">elif</span> <span class=\"n\">layer_name</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">temp_data</span><span class=\"p\">:</span>\n                <span class=\"k\">continue</span>\n            <span class=\"k\">elif</span> <span class=\"ow\">not</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">is_void</span><span class=\"p\">:</span>\n                <span class=\"n\">temp_data</span><span class=\"p\">[</span><span class=\"n\">layer_name</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">temp_data</span><span class=\"p\">[</span><span class=\"n\">layer_name</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">area</span><span class=\"p\">()</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"k\">pass</span>\n        <span class=\"n\">temp_data</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"n\">name</span><span class=\"p\">:</span> <span class=\"n\">area</span> <span class=\"o\">/</span> <span class=\"n\">outline_area</span> <span class=\"o\">*</span> <span class=\"mi\">100</span> <span class=\"k\">for</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">area</span> <span class=\"ow\">in</span> <span class=\"n\">temp_data</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()}</span>\n        <span class=\"k\">return</span> <span class=\"n\">temp_data</span></div></div>\n\n\n<div class=\"viewcode-block\" id=\"EdbStackup\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup/#pyaedt.edb_core.stackup.EdbStackup\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">EdbStackup</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;Manages EDB methods for stackup and material management accessible from the</span>\n<span class=\"sd\">     ``Edb.core_stackup`` property (deprecated).</span>\n\n<span class=\"sd\">    .. deprecated:: 0.6.5</span>\n<span class=\"sd\">        This class has been deprecated and replaced by the ``Stackup`` class.</span>\n\n<span class=\"sd\">    Examples</span>\n<span class=\"sd\">    --------</span>\n<span class=\"sd\">    &gt;&gt;&gt; from pyaedt import Edb</span>\n<span class=\"sd\">    &gt;&gt;&gt; edbapp = Edb(&quot;myaedbfolder&quot;, edbversion=&quot;2021.2&quot;)</span>\n<span class=\"sd\">    &gt;&gt;&gt; edb_stackup = edbapp.core_stackup</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">p_edb</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span> <span class=\"o\">=</span> <span class=\"n\">p_edb</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_layer_dict</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_builder</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot; &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">builder</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_get_edb_value</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb_value</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_edb</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot; &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_active_layout</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot; &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">active_layout</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_cell</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot; &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">cell</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_db</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot; &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">db</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_logger</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot; &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">logger</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">stackup_layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Stackup layers.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        :class:`pyaedt.edb_core.EDBData.EDBLayers`</span>\n<span class=\"sd\">            Dictionary of stackup layers.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_layer_dict</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_layer_dict</span> <span class=\"o\">=</span> <span class=\"n\">EDBLayers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_layer_dict</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">signal_layers</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Dictionary of all signal layers.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        dict[str, :class:`pyaedt.edb_core.EDB_Data.EDBLayer`]</span>\n<span class=\"sd\">            List of signal layers.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">stackup_layers</span><span class=\"o\">.</span><span class=\"n\">signal_layers</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">layer_types</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Layer types.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        type</span>\n<span class=\"sd\">            Types of layers.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">edb</span><span class=\"o\">.</span><span class=\"n\">Cell</span><span class=\"o\">.</span><span class=\"n\">LayerType</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">materials</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Materials.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        dict</span>\n<span class=\"sd\">            Dictionary of materials.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.create_dielectric\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.create_dielectric/#pyaedt.edb_core.stackup.EdbStackup.create_dielectric\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">create_dielectric</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">permittivity</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">loss_tangent</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Create a dielectric with simple properties.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.materials.create_dielectric` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        name : str</span>\n<span class=\"sd\">            Name of the dielectric.</span>\n<span class=\"sd\">        permittivity : float, optional</span>\n<span class=\"sd\">            Permittivity of the dielectric. The default is ``1``.</span>\n<span class=\"sd\">        loss_tangent : float, optional</span>\n<span class=\"sd\">            Loss tangent for the material. The default is ``0``.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        type</span>\n<span class=\"sd\">            Material definition.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.materials.create_dielectric` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">add_dielectric_material</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">permittivity</span><span class=\"o\">=</span><span class=\"n\">permittivity</span><span class=\"p\">,</span> <span class=\"n\">loss_tangent</span><span class=\"o\">=</span><span class=\"n\">loss_tangent</span><span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.create_conductor\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.create_conductor/#pyaedt.edb_core.stackup.EdbStackup.create_conductor\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">create_conductor</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">conductivity</span><span class=\"o\">=</span><span class=\"mf\">1e6</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Create a conductor with simple properties.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use the :func:`Edb.materials.add_conductor_material` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        name : str</span>\n<span class=\"sd\">            Name of the conductor.</span>\n<span class=\"sd\">        conductivity : float, optional</span>\n<span class=\"sd\">            Conductivity of the conductor. The default is ``1e6``.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        :class:`pyaedt.edb_core.materials.Material`</span>\n<span class=\"sd\">            Material definition.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.materials.add_conductor_material` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">add_conductor_material</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">conductivity</span><span class=\"o\">=</span><span class=\"n\">conductivity</span><span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.create_debye_material\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.create_debye_material/#pyaedt.edb_core.stackup.EdbStackup.create_debye_material\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">create_debye_material</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">name</span><span class=\"p\">,</span>\n        <span class=\"n\">relative_permittivity_low</span><span class=\"p\">,</span>\n        <span class=\"n\">relative_permittivity_high</span><span class=\"p\">,</span>\n        <span class=\"n\">loss_tangent_low</span><span class=\"p\">,</span>\n        <span class=\"n\">loss_tangent_high</span><span class=\"p\">,</span>\n        <span class=\"n\">lower_freqency</span><span class=\"p\">,</span>\n        <span class=\"n\">higher_frequency</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Create a dielectric with the Debye model.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.materials.add_debye_material` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        name : str</span>\n<span class=\"sd\">            Name of the dielectric.</span>\n<span class=\"sd\">        relative_permittivity_low : float</span>\n<span class=\"sd\">            Relative permittivity of the dielectric at the frequency specified</span>\n<span class=\"sd\">            for ``lower_frequency``.</span>\n<span class=\"sd\">        relative_permittivity_high : float</span>\n<span class=\"sd\">            Relative permittivity of the dielectric at the frequency specified</span>\n<span class=\"sd\">            for ``higher_frequency``.</span>\n<span class=\"sd\">        loss_tangent_low : float</span>\n<span class=\"sd\">            Loss tangent for the material at the frequency specified</span>\n<span class=\"sd\">            for ``lower_frequency``.</span>\n<span class=\"sd\">        loss_tangent_high : float</span>\n<span class=\"sd\">            Loss tangent for the material at the frequency specified</span>\n<span class=\"sd\">            for ``higher_frequency``.</span>\n<span class=\"sd\">        lower_freqency : float</span>\n<span class=\"sd\">            Value for the lower frequency.</span>\n<span class=\"sd\">        higher_frequency : float</span>\n<span class=\"sd\">            Value for the higher frequency.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        type</span>\n<span class=\"sd\">            Material definition.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.materials.add_debye_material` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">add_debye_material</span><span class=\"p\">(</span>\n            <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">name</span><span class=\"p\">,</span>\n            <span class=\"n\">permittivity_low</span><span class=\"o\">=</span><span class=\"n\">relative_permittivity_low</span><span class=\"p\">,</span>\n            <span class=\"n\">permittivity_high</span><span class=\"o\">=</span><span class=\"n\">relative_permittivity_high</span><span class=\"p\">,</span>\n            <span class=\"n\">loss_tangent_low</span><span class=\"o\">=</span><span class=\"n\">loss_tangent_low</span><span class=\"p\">,</span>\n            <span class=\"n\">loss_tangent_high</span><span class=\"o\">=</span><span class=\"n\">loss_tangent_high</span><span class=\"p\">,</span>\n            <span class=\"n\">lower_freqency</span><span class=\"o\">=</span><span class=\"n\">lower_freqency</span><span class=\"p\">,</span>\n            <span class=\"n\">higher_frequency</span><span class=\"o\">=</span><span class=\"n\">higher_frequency</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.create_multipole_debye_material\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.create_multipole_debye_material/#pyaedt.edb_core.stackup.EdbStackup.create_multipole_debye_material\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">create_multipole_debye_material</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">name</span><span class=\"p\">,</span>\n        <span class=\"n\">frequencies</span><span class=\"p\">,</span>\n        <span class=\"n\">relative_permittivities</span><span class=\"p\">,</span>\n        <span class=\"n\">loss_tangents</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Create a dielectric with the Multipole Debye model.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.materials.add_multipole_debye_material` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        name : str</span>\n<span class=\"sd\">            Name of the dielectic.</span>\n<span class=\"sd\">        frequencies : list</span>\n<span class=\"sd\">            Frequencies in GHz.</span>\n<span class=\"sd\">        relative_permittivities : list</span>\n<span class=\"sd\">            Relative permittivities at each frequency.</span>\n<span class=\"sd\">        loss_tangents : list</span>\n<span class=\"sd\">            Loss tangents at each frequency.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        type</span>\n<span class=\"sd\">            Material definition.</span>\n\n<span class=\"sd\">        Examples</span>\n<span class=\"sd\">        --------</span>\n<span class=\"sd\">        &gt;&gt;&gt; from pyaedt import Edb</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb = Edb()</span>\n<span class=\"sd\">        &gt;&gt;&gt; freq = [0, 2, 3, 4, 5, 6]</span>\n<span class=\"sd\">        &gt;&gt;&gt; rel_perm = [1e9, 1.1e9, 1.2e9, 1.3e9, 1.5e9, 1.6e9]</span>\n<span class=\"sd\">        &gt;&gt;&gt; loss_tan = [0.025, 0.026, 0.027, 0.028, 0.029, 0.030]</span>\n<span class=\"sd\">        &gt;&gt;&gt; diel = edb.core_stackup.create_multipole_debye_material(&quot;My_MP_Debye&quot;, freq, rel_perm, loss_tan)</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.materials.add_multipole_debye_material` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">add_multipole_debye_material</span><span class=\"p\">(</span>\n            <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">name</span><span class=\"p\">,</span>\n            <span class=\"n\">frequencies</span><span class=\"o\">=</span><span class=\"n\">frequencies</span><span class=\"p\">,</span>\n            <span class=\"n\">permittivities</span><span class=\"o\">=</span><span class=\"n\">relative_permittivities</span><span class=\"p\">,</span>\n            <span class=\"n\">loss_tangents</span><span class=\"o\">=</span><span class=\"n\">loss_tangents</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.get_layout_thickness\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.get_layout_thickness/#pyaedt.edb_core.stackup.EdbStackup.get_layout_thickness\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">get_layout_thickness</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Return the layout thickness.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.stackup.get_layout_thickness` function instead.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        float</span>\n<span class=\"sd\">            The thickness value.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.materials.get_layout_thickness` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">stackup</span><span class=\"o\">.</span><span class=\"n\">get_layout_thickness</span><span class=\"p\">()</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.duplicate_material\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.duplicate_material/#pyaedt.edb_core.stackup.EdbStackup.duplicate_material\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">duplicate_material</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">material_name</span><span class=\"p\">,</span> <span class=\"n\">new_material_name</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Duplicate a material from the database.</span>\n<span class=\"sd\">        It duplicates these five properties: ``permittivity``, ``permeability``, ``conductivity``,</span>\n<span class=\"sd\">        ``dielectriclosstangent``, and ``magneticlosstangent``.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.stackup.duplicate` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        material_name : str</span>\n<span class=\"sd\">            Name of the existing material.</span>\n<span class=\"sd\">        new_material_name : str</span>\n<span class=\"sd\">            Name of the new duplicated material.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        EDB material : class: &#39;Ansys.Ansoft.Edb.Definition.MaterialDef&#39;</span>\n\n\n<span class=\"sd\">        Examples</span>\n<span class=\"sd\">        --------</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; from pyaedt import Edb</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb_app = Edb()</span>\n<span class=\"sd\">        &gt;&gt;&gt; my_material = edb_app.core_stackup.duplicate_material(&quot;copper&quot;, &quot;my_new_copper&quot;)</span>\n\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.materials.duplicate` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">duplicate</span><span class=\"p\">(</span><span class=\"n\">material_name</span><span class=\"p\">,</span> <span class=\"n\">new_material_name</span><span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.material_name_to_id\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.material_name_to_id/#pyaedt.edb_core.stackup.EdbStackup.material_name_to_id\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span>\n    <span class=\"k\">def</span> <span class=\"nf\">material_name_to_id</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">property_name</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Convert a material property name to a material property ID.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.materials.material_name_to_id` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        property_name : str</span>\n<span class=\"sd\">            Name of the material property.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        ID of the material property.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.materials.material_name_to_id` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">material_name_to_id</span><span class=\"p\">(</span><span class=\"n\">property_name</span><span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.get_property_by_material_name\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.get_property_by_material_name/#pyaedt.edb_core.stackup.EdbStackup.get_property_by_material_name\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">get_property_by_material_name</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">property_name</span><span class=\"p\">,</span> <span class=\"n\">material_name</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Get the property of a material. If it is executed in IronPython,</span>\n<span class=\"sd\">         you must only use the first element of the returned tuple, which is a float.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.materials.get_property_by_material_name` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        material_name : str</span>\n<span class=\"sd\">            Name of the existing material.</span>\n<span class=\"sd\">        property_name : str</span>\n<span class=\"sd\">            Name of the material property.</span>\n<span class=\"sd\">            ``permittivity``</span>\n<span class=\"sd\">            ``permeability``</span>\n<span class=\"sd\">            ``conductivity``</span>\n<span class=\"sd\">            ``dielectric_loss_tangent``</span>\n<span class=\"sd\">            ``magnetic_loss_tangent``</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        float</span>\n<span class=\"sd\">            The float value of the property.</span>\n\n\n<span class=\"sd\">        Examples</span>\n<span class=\"sd\">        --------</span>\n<span class=\"sd\">        &gt;&gt;&gt; from pyaedt import Edb</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb_app = Edb()</span>\n<span class=\"sd\">        &gt;&gt;&gt; returned_tuple = edb_app.core_stackup.get_property_by_material_name(&quot;conductivity&quot;, &quot;copper&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb_value = returned_tuple[0]</span>\n<span class=\"sd\">        &gt;&gt;&gt; float_value = returned_tuple[1]</span>\n\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.materials.get_property_by_material_name` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">get_property_by_material_name</span><span class=\"p\">(</span><span class=\"n\">property_name</span><span class=\"p\">,</span> <span class=\"n\">material_name</span><span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.adjust_solder_dielectrics\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.adjust_solder_dielectrics/#pyaedt.edb_core.stackup.EdbStackup.adjust_solder_dielectrics\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">adjust_solder_dielectrics</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Adjust the stack-up by adding or modifying dielectric layers that contains Solder Balls.</span>\n<span class=\"sd\">        This method identifies the solder-ball height and adjust the dielectric thickness on top (or bottom) to fit</span>\n<span class=\"sd\">        the thickness in order to merge another layout.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.stackup.adjust_solder_dielectrics` function instead.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.stackup.adjust_solder_dielectrics` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">stackup</span><span class=\"o\">.</span><span class=\"n\">adjust_solder_dielectrics</span><span class=\"p\">()</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.place_in_layout\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.place_in_layout/#pyaedt.edb_core.stackup.EdbStackup.place_in_layout\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">place_in_layout</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">edb</span><span class=\"p\">,</span>\n        <span class=\"n\">angle</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span>\n        <span class=\"n\">offset_x</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span>\n        <span class=\"n\">offset_y</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span>\n        <span class=\"n\">flipped_stackup</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"n\">place_on_top</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Place current Cell into another cell using layer placement method.</span>\n<span class=\"sd\">        Flip the current layer stackup of a layout if requested. Transform parameters currently not supported.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.stackup.place_in_layout` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        edb : Edb</span>\n<span class=\"sd\">            Cell on which to place the current layout. If None the Cell will be applied on an empty new Cell.</span>\n<span class=\"sd\">        angle : double, optional</span>\n<span class=\"sd\">            The rotation angle applied on the design.</span>\n<span class=\"sd\">        offset_x : double, optional</span>\n<span class=\"sd\">            The x offset value.</span>\n<span class=\"sd\">        offset_y : double, optional</span>\n<span class=\"sd\">            The y offset value.</span>\n<span class=\"sd\">        flipped_stackup : bool, optional</span>\n<span class=\"sd\">            Either if the current layout is inverted.</span>\n<span class=\"sd\">            If `True` and place_on_top is `True` the stackup will be flipped before the merge.</span>\n<span class=\"sd\">        place_on_top : bool, optional</span>\n<span class=\"sd\">            Either if place the current layout on Top or Bottom of destination Layout.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when succeed ``False`` if not.</span>\n\n<span class=\"sd\">        Examples</span>\n<span class=\"sd\">        --------</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb1 = Edb(edbpath=targetfile1,  edbversion=&quot;2021.2&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb2 = Edb(edbpath=targetfile2, edbversion=&quot;2021.2&quot;)</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; hosting_cmp = edb1.core_components.get_component_by_name(&quot;U100&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; mounted_cmp = edb2.core_components.get_component_by_name(&quot;BGA&quot;)</span>\n\n<span class=\"sd\">        &gt;&gt;&gt; vector, rotation, solder_ball_height = edb1.core_components.get_component_placement_vector(</span>\n<span class=\"sd\">        ...                                                     mounted_component=mounted_cmp,</span>\n<span class=\"sd\">        ...                                                     hosting_component=hosting_cmp,</span>\n<span class=\"sd\">        ...                                                     mounted_component_pin1=&quot;A12&quot;,</span>\n<span class=\"sd\">        ...                                                     mounted_component_pin2=&quot;A14&quot;,</span>\n<span class=\"sd\">        ...                                                     hosting_component_pin1=&quot;A12&quot;,</span>\n<span class=\"sd\">        ...                                                     hosting_component_pin2=&quot;A14&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb2.core_stackup.place_in_layout(edb1.active_cell, angle=0.0, offset_x=vector[0],</span>\n<span class=\"sd\">        ...                                   offset_y=vector[1], flipped_stackup=False, place_on_top=True,</span>\n<span class=\"sd\">        ...                                   )</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.stackup.place_in_layout` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">stackup</span><span class=\"o\">.</span><span class=\"n\">place_in_layout</span><span class=\"p\">(</span>\n            <span class=\"n\">edb</span><span class=\"o\">=</span><span class=\"n\">edb</span><span class=\"p\">,</span>\n            <span class=\"n\">angle</span><span class=\"o\">=</span><span class=\"n\">angle</span><span class=\"p\">,</span>\n            <span class=\"n\">offset_x</span><span class=\"o\">=</span><span class=\"n\">offset_x</span><span class=\"p\">,</span>\n            <span class=\"n\">offset_y</span><span class=\"o\">=</span><span class=\"n\">offset_y</span><span class=\"p\">,</span>\n            <span class=\"n\">flipped_stackup</span><span class=\"o\">=</span><span class=\"n\">flipped_stackup</span><span class=\"p\">,</span>\n            <span class=\"n\">place_on_top</span><span class=\"o\">=</span><span class=\"n\">place_on_top</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.place_in_layout_3d_placement\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.place_in_layout_3d_placement/#pyaedt.edb_core.stackup.EdbStackup.place_in_layout_3d_placement\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">place_in_layout_3d_placement</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">edb</span><span class=\"p\">,</span>\n        <span class=\"n\">angle</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span>\n        <span class=\"n\">offset_x</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span>\n        <span class=\"n\">offset_y</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span>\n        <span class=\"n\">flipped_stackup</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"n\">place_on_top</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"n\">solder_height</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Place current Cell into another cell using 3d placement method.</span>\n<span class=\"sd\">        Flip the current layer stackup of a layout if requested. Transform parameters currently not supported.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.stackup.place_in_layout_3d_placement` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        edb : Edb</span>\n<span class=\"sd\">            Cell on which to place the current layout. If None the Cell will be applied on an empty new Cell.</span>\n<span class=\"sd\">        angle : double, optional</span>\n<span class=\"sd\">            The rotation angle applied on the design.</span>\n<span class=\"sd\">        offset_x : double, optional</span>\n<span class=\"sd\">            The x offset value.</span>\n<span class=\"sd\">        offset_y : double, optional</span>\n<span class=\"sd\">            The y offset value.</span>\n<span class=\"sd\">        flipped_stackup : bool, optional</span>\n<span class=\"sd\">            Either if the current layout is inverted.</span>\n<span class=\"sd\">            If `True` and place_on_top is `True` the stackup will be flipped before the merge.</span>\n<span class=\"sd\">        place_on_top : bool, optional</span>\n<span class=\"sd\">            Either if place the current layout on Top or Bottom of destination Layout.</span>\n<span class=\"sd\">        solder_height : float, optional</span>\n<span class=\"sd\">            Solder Ball or Bumps eight.</span>\n<span class=\"sd\">            This value will be added to the elevation to align the two layouts.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when succeed ``False`` if not.</span>\n\n<span class=\"sd\">        Examples</span>\n<span class=\"sd\">        --------</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb1 = Edb(edbpath=targetfile1,  edbversion=&quot;2021.2&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb2 = Edb(edbpath=targetfile2, edbversion=&quot;2021.2&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; hosting_cmp = edb1.core_components.get_component_by_name(&quot;U100&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; mounted_cmp = edb2.core_components.get_component_by_name(&quot;BGA&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb2.core_stackup.place_in_layout(edb1.active_cell, angle=0.0, offset_x=&quot;1mm&quot;,</span>\n<span class=\"sd\">        ...                                   offset_y=&quot;2mm&quot;, flipped_stackup=False, place_on_top=True,</span>\n<span class=\"sd\">        ...                                   )</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.stackup.place_in_layout_3d_placement` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">stackup</span><span class=\"o\">.</span><span class=\"n\">place_in_layout_3d_placement</span><span class=\"p\">(</span>\n            <span class=\"n\">edb</span><span class=\"o\">=</span><span class=\"n\">edb</span><span class=\"p\">,</span>\n            <span class=\"n\">angle</span><span class=\"o\">=</span><span class=\"n\">angle</span><span class=\"p\">,</span>\n            <span class=\"n\">offset_x</span><span class=\"o\">=</span><span class=\"n\">offset_x</span><span class=\"p\">,</span>\n            <span class=\"n\">offset_y</span><span class=\"o\">=</span><span class=\"n\">offset_y</span><span class=\"p\">,</span>\n            <span class=\"n\">flipped_stackup</span><span class=\"o\">=</span><span class=\"n\">flipped_stackup</span><span class=\"p\">,</span>\n            <span class=\"n\">place_on_top</span><span class=\"o\">=</span><span class=\"n\">place_on_top</span><span class=\"p\">,</span>\n            <span class=\"n\">solder_height</span><span class=\"o\">=</span><span class=\"n\">solder_height</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.place_a3dcomp_3d_placement\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.place_a3dcomp_3d_placement/#pyaedt.edb_core.stackup.EdbStackup.place_a3dcomp_3d_placement\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">place_a3dcomp_3d_placement</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">a3dcomp_path</span><span class=\"p\">,</span> <span class=\"n\">angle</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">offset_x</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">offset_y</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">place_on_top</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Place a 3D Component into current layout.</span>\n<span class=\"sd\">         3D Component ports are not visible via EDB. They will be visible after the EDB has been opened in Ansys</span>\n<span class=\"sd\">         Electronics Desktop as a project.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.stackup.place_a3dcomp_3d_placement` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        a3dcomp_path : str</span>\n<span class=\"sd\">            Path to the 3D Component file (\\\\*.a3dcomp) to place.</span>\n<span class=\"sd\">        angle : double, optional</span>\n<span class=\"sd\">            Clockwise rotation angle applied to the a3dcomp.</span>\n<span class=\"sd\">        offset_x : double, optional</span>\n<span class=\"sd\">            The x offset value.</span>\n<span class=\"sd\">            The default value is ``0.0``.</span>\n<span class=\"sd\">        offset_y : double, optional</span>\n<span class=\"sd\">            The y offset value.</span>\n<span class=\"sd\">            The default value is ``0.0``.</span>\n<span class=\"sd\">        place_on_top : bool, optional</span>\n<span class=\"sd\">            Whether to place the 3D Component on the top or the bottom of this layout.</span>\n<span class=\"sd\">            If ``False`` then the 3D Component will also be flipped over around its X axis.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` if successful and ``False`` if not.</span>\n\n<span class=\"sd\">        Examples</span>\n<span class=\"sd\">        --------</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb1 = Edb(edbpath=targetfile1,  edbversion=&quot;2021.2&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; a3dcomp_path = &quot;connector.a3dcomp&quot;</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb1.core_stackup.place_a3dcomp_3d_placement(a3dcomp_path, angle=0.0, offset_x=&quot;1mm&quot;,</span>\n<span class=\"sd\">        ...                                   offset_y=&quot;2mm&quot;, flipped_stackup=False, place_on_top=True,</span>\n<span class=\"sd\">        ...                                   )</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.stackup.place_a3dcomp_3d_placement` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">stackup</span><span class=\"o\">.</span><span class=\"n\">place_a3dcomp_3d_placement</span><span class=\"p\">(</span>\n            <span class=\"n\">a3dcomp_path</span><span class=\"o\">=</span><span class=\"n\">a3dcomp_path</span><span class=\"p\">,</span> <span class=\"n\">angle</span><span class=\"o\">=</span><span class=\"n\">angle</span><span class=\"p\">,</span> <span class=\"n\">offset_x</span><span class=\"o\">=</span><span class=\"n\">offset_x</span><span class=\"p\">,</span> <span class=\"n\">offset_y</span><span class=\"o\">=</span><span class=\"n\">offset_y</span><span class=\"p\">,</span> <span class=\"n\">place_on_top</span><span class=\"o\">=</span><span class=\"n\">place_on_top</span>\n        <span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.flip_design\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.flip_design/#pyaedt.edb_core.stackup.EdbStackup.flip_design\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">flip_design</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Flip the current design of a layout.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.stackup.flip_design` function instead.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when succeed ``False`` if not.</span>\n\n<span class=\"sd\">        Examples</span>\n<span class=\"sd\">        --------</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb = Edb(edbpath=targetfile,  edbversion=&quot;2021.2&quot;)</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb.core_stackup.flip_design()</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb.save()</span>\n<span class=\"sd\">        &gt;&gt;&gt; edb.close_edb()</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.stackup.flip_design` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">stackup</span><span class=\"o\">.</span><span class=\"n\">flip_design</span><span class=\"p\">()</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.create_djordjevicsarkar_material\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.create_djordjevicsarkar_material/#pyaedt.edb_core.stackup.EdbStackup.create_djordjevicsarkar_material\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">create_djordjevicsarkar_material</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">relative_permittivity</span><span class=\"p\">,</span> <span class=\"n\">loss_tangent</span><span class=\"p\">,</span> <span class=\"n\">test_frequency</span><span class=\"p\">,</span> <span class=\"n\">dc_permittivity</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">dc_conductivity</span><span class=\"o\">=</span><span class=\"kc\">None</span>\n    <span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Create a Djordjevic_Sarkar dielectric.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.materials.add_djordjevicsarkar_material` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        name : str</span>\n<span class=\"sd\">            Name of the dielectic.</span>\n<span class=\"sd\">        relative_permittivity : float</span>\n<span class=\"sd\">            Relative permittivity of the dielectric.</span>\n<span class=\"sd\">        loss_tangent : float</span>\n<span class=\"sd\">            Loss tangent for the material.</span>\n<span class=\"sd\">        test_frequency : float</span>\n<span class=\"sd\">            Test frequency in GHz for the dielectric.</span>\n<span class=\"sd\">        dc_permittivity : float, optional</span>\n<span class=\"sd\">            DC Relative permittivity of the dielectric.</span>\n<span class=\"sd\">        dc_conductivity : float, optional</span>\n<span class=\"sd\">            DC Conductivity of the dielectric.</span>\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        type</span>\n<span class=\"sd\">            Material definition.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.materials.add_djordjevicsarkar_material` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">materials</span><span class=\"o\">.</span><span class=\"n\">add_djordjevicsarkar_material</span><span class=\"p\">(</span>\n            <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">name</span><span class=\"p\">,</span>\n            <span class=\"n\">permittivity</span><span class=\"o\">=</span><span class=\"n\">relative_permittivity</span><span class=\"p\">,</span>\n            <span class=\"n\">loss_tangent</span><span class=\"o\">=</span><span class=\"n\">loss_tangent</span><span class=\"p\">,</span>\n            <span class=\"n\">test_frequency</span><span class=\"o\">=</span><span class=\"n\">test_frequency</span><span class=\"p\">,</span>\n            <span class=\"n\">dc_permittivity</span><span class=\"o\">=</span><span class=\"n\">dc_permittivity</span><span class=\"p\">,</span>\n            <span class=\"n\">dc_conductivity</span><span class=\"o\">=</span><span class=\"n\">dc_conductivity</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.stackup_limits\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.stackup_limits/#pyaedt.edb_core.stackup.EdbStackup.stackup_limits\">[docs]</a>    <span class=\"nd\">@pyaedt_function_handler</span><span class=\"p\">()</span>\n    <span class=\"k\">def</span> <span class=\"nf\">stackup_limits</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">only_metals</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Retrieve stackup limits.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.stackup.stackup_limits` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        only_metals : bool, optional</span>\n<span class=\"sd\">            Whether to retrieve only metals. The default is ``False``.</span>\n\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">            ``True`` when successful, ``False`` when failed.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.stackup.stackup_limits` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">stackup</span><span class=\"o\">.</span><span class=\"n\">stackup_limits</span><span class=\"p\">(</span><span class=\"n\">only_metals</span><span class=\"o\">=</span><span class=\"n\">only_metals</span><span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"EdbStackup.create_symmetric_stackup\"><a class=\"viewcode-back\" href=\"../../../../EDBAPI/_autosummary/pyaedt.edb_core.stackup.EdbStackup.create_symmetric_stackup/#pyaedt.edb_core.stackup.EdbStackup.create_symmetric_stackup\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">create_symmetric_stackup</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">layer_count</span><span class=\"p\">,</span>\n        <span class=\"n\">inner_layer_thickness</span><span class=\"o\">=</span><span class=\"s2\">&quot;17um&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">outer_layer_thickness</span><span class=\"o\">=</span><span class=\"s2\">&quot;50um&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">dielectric_thickness</span><span class=\"o\">=</span><span class=\"s2\">&quot;100um&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">dielectric_material</span><span class=\"o\">=</span><span class=\"s2\">&quot;FR4_epoxy&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">soldermask</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"n\">soldermask_thickness</span><span class=\"o\">=</span><span class=\"s2\">&quot;20um&quot;</span><span class=\"p\">,</span>\n    <span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Create a symmetric stackup.</span>\n\n<span class=\"sd\">        .. deprecated:: 0.6.27</span>\n<span class=\"sd\">           Use :func:`Edb.stackup.create_symmetric_stackup` function instead.</span>\n\n<span class=\"sd\">        Parameters</span>\n<span class=\"sd\">        ----------</span>\n<span class=\"sd\">        layer_count : int</span>\n<span class=\"sd\">            Number of layer count.</span>\n<span class=\"sd\">        inner_layer_thickness : str, float, optional</span>\n<span class=\"sd\">            Thickness of inner conductor layer.</span>\n<span class=\"sd\">        outer_layer_thickness : str, float, optional</span>\n<span class=\"sd\">            Thickness of outer conductor layer.</span>\n<span class=\"sd\">        dielectric_thickness : str, float, optional</span>\n<span class=\"sd\">            Thickness of dielectric layer.</span>\n<span class=\"sd\">        dielectric_material : str, optional</span>\n<span class=\"sd\">            Material of dielectric layer.</span>\n<span class=\"sd\">        soldermask : bool, optional</span>\n<span class=\"sd\">            Whether to create soldermask layers. The default is``True``.</span>\n<span class=\"sd\">        soldermask_thickness : str, optional</span>\n<span class=\"sd\">            Thickness of soldermask layer.</span>\n<span class=\"sd\">        Returns</span>\n<span class=\"sd\">        -------</span>\n<span class=\"sd\">        bool</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s2\">&quot;Use `Edb.stackup.create_symmetric_stackup` function instead.&quot;</span><span class=\"p\">,</span> <span class=\"ne\">DeprecationWarning</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_pedb</span><span class=\"o\">.</span><span class=\"n\">stackup</span><span class=\"o\">.</span><span class=\"n\">create_symmetric_stackup</span><span class=\"p\">(</span>\n            <span class=\"n\">layer_count</span><span class=\"o\">=</span><span class=\"n\">layer_count</span><span class=\"p\">,</span>\n            <span class=\"n\">inner_layer_thickness</span><span class=\"o\">=</span><span class=\"n\">inner_layer_thickness</span><span class=\"p\">,</span>\n            <span class=\"n\">outer_layer_thickness</span><span class=\"o\">=</span><span class=\"n\">outer_layer_thickness</span><span class=\"p\">,</span>\n            <span class=\"n\">dielectric_thickness</span><span class=\"o\">=</span><span class=\"n\">dielectric_thickness</span><span class=\"p\">,</span>\n            <span class=\"n\">dielectric_material</span><span class=\"o\">=</span><span class=\"n\">dielectric_material</span><span class=\"p\">,</span>\n            <span class=\"n\">soldermask</span><span class=\"o\">=</span><span class=\"n\">soldermask</span><span class=\"p\">,</span>\n            <span class=\"n\">soldermask_thickness</span><span class=\"o\">=</span><span class=\"n\">soldermask_thickness</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span></div></div>\n</pre></div>", "current_page_name": "_modules/pyaedt/edb_core/stackup", "sidebars": ["search-field.html", "sidebar-nav-bs.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "theme_show_toc_level": 1, "theme_logo": {}}