{"parents": [{"link": "../../", "title": "Examples"}, {"link": "../", "title": "General model and setup examples"}], "prev": {"link": "../Configurations/", "title": "General: configuration files"}, "next": {"link": "../Optimetrics/", "title": "General: optimetrics setup"}, "title": "General: coordinate system creation", "meta": null, "body": "<div class=\"sphx-glr-download-link-note admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Click <a class=\"reference internal\" href=\"#sphx-glr-download-examples-01-modeling-setup-hfss-coordinatesystem-py\"><span class=\"std std-ref\">here</span></a>\nto download the full example code</p>\n</div>\n<section class=\"sphx-glr-example-title\" id=\"general-coordinate-system-creation\">\n<span id=\"sphx-glr-examples-01-modeling-setup-hfss-coordinatesystem-py\"></span><h1>General: coordinate system creation<a class=\"headerlink\" href=\"#general-coordinate-system-creation\" title=\"Permalink to this heading\">#</a></h1>\n<p>This example shows how you can use PyAEDT to create and modify coordinate systems in the modeler.</p>\n<section id=\"perform-required-imports\">\n<h2>Perform required imports<a class=\"headerlink\" href=\"#perform-required-imports\" title=\"Permalink to this heading\">#</a></h2>\n<p>Perform required imports</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">os</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">pyaedt</span>\n</pre></div>\n</div>\n</section>\n<section id=\"set-non-graphical-mode\">\n<h2>Set non-graphical mode<a class=\"headerlink\" href=\"#set-non-graphical-mode\" title=\"Permalink to this heading\">#</a></h2>\n<p>Set non-graphical mode. <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;PYAEDT_NON_GRAPHICAL&quot;</span></code> is needed to generate\ndocumentation only.\nYou can set <code class=\"docutils literal notranslate\"><span class=\"pre\">non_graphical</span></code> either to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">non_graphical</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getenv</span><span class=\"p\">(</span><span class=\"s2\">&quot;PYAEDT_NON_GRAPHICAL&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;False&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span> <span class=\"ow\">in</span> <span class=\"p\">(</span><span class=\"s2\">&quot;true&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;1&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;t&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n<section id=\"launch-aedt-in-graphical-mode\">\n<h2>Launch AEDT in graphical mode<a class=\"headerlink\" href=\"#launch-aedt-in-graphical-mode\" title=\"Permalink to this heading\">#</a></h2>\n<p>Launch AEDT 2022 R2 in graphical mode.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">pyaedt</span><span class=\"o\">.</span><span class=\"n\">launch_desktop</span><span class=\"p\">(</span><span class=\"n\">specified_version</span><span class=\"o\">=</span><span class=\"s2\">&quot;2022.2&quot;</span><span class=\"p\">,</span> <span class=\"n\">non_graphical</span><span class=\"o\">=</span><span class=\"n\">non_graphical</span><span class=\"p\">,</span> <span class=\"n\">new_desktop_session</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n<section id=\"insert-hfss-design\">\n<h2>Insert HFSS design<a class=\"headerlink\" href=\"#insert-hfss-design\" title=\"Permalink to this heading\">#</a></h2>\n<p>Insert an HFSS design with the default name.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">hfss</span> <span class=\"o\">=</span> <span class=\"n\">pyaedt</span><span class=\"o\">.</span><span class=\"n\">Hfss</span><span class=\"p\">(</span><span class=\"n\">projectname</span><span class=\"o\">=</span><span class=\"n\">pyaedt</span><span class=\"o\">.</span><span class=\"n\">generate_unique_project_name</span><span class=\"p\">(</span><span class=\"n\">folder_name</span><span class=\"o\">=</span><span class=\"s2\">&quot;CoordSysDemo&quot;</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n</section>\n<section id=\"create-coordinate-system\">\n<h2>Create coordinate system<a class=\"headerlink\" href=\"#create-coordinate-system\" title=\"Permalink to this heading\">#</a></h2>\n<p>The coordinate system is centered on the global origin and has the axis\naligned to the global coordinate system. The new coordinate system is\nsaved in the object <code class=\"docutils literal notranslate\"><span class=\"pre\">cs1</span></code>.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cs1</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_coordinate_system</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</section>\n<section id=\"modify-coordinate-system\">\n<h2>Modify coordinate system<a class=\"headerlink\" href=\"#modify-coordinate-system\" title=\"Permalink to this heading\">#</a></h2>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">cs1</span></code> object exposes properties and methods to manipulate the\ncoordinate system. The origin can be changed.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cs1</span><span class=\"p\">[</span><span class=\"s2\">&quot;OriginX&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>\n<span class=\"n\">cs1</span><span class=\"o\">.</span><span class=\"n\">props</span><span class=\"p\">[</span><span class=\"s2\">&quot;OriginY&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>\n<span class=\"n\">cs1</span><span class=\"o\">.</span><span class=\"n\">props</span><span class=\"p\">[</span><span class=\"s2\">&quot;OriginZ&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">10</span>\n\n<span class=\"c1\"># Pointing vectors can be changed</span>\n\n<span class=\"n\">ypoint</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"n\">cs1</span><span class=\"o\">.</span><span class=\"n\">props</span><span class=\"p\">[</span><span class=\"s2\">&quot;YAxisXvec&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">ypoint</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"n\">cs1</span><span class=\"o\">.</span><span class=\"n\">props</span><span class=\"p\">[</span><span class=\"s2\">&quot;YAxisYvec&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">ypoint</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"n\">cs1</span><span class=\"o\">.</span><span class=\"n\">props</span><span class=\"p\">[</span><span class=\"s2\">&quot;YAxisZvec&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">ypoint</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n</section>\n<section id=\"rename-coordinate-system\">\n<h2>Rename coordinate system<a class=\"headerlink\" href=\"#rename-coordinate-system\" title=\"Permalink to this heading\">#</a></h2>\n<p>Rename the coordinate system.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cs1</span><span class=\"o\">.</span><span class=\"n\">rename</span><span class=\"p\">(</span><span class=\"s2\">&quot;newCS&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"sphx-glr-script-out highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>True\n</pre></div>\n</div>\n</section>\n<section id=\"change-coordinate-system-mode\">\n<h2>Change coordinate system mode<a class=\"headerlink\" href=\"#change-coordinate-system-mode\" title=\"Permalink to this heading\">#</a></h2>\n<p>Use the <code class=\"docutils literal notranslate\"><span class=\"pre\">change_cs_mode</span></code> method to change the mode. Options are <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code>\nfor axis/position, <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code> for Euler angle ZXZ, and <code class=\"docutils literal notranslate\"><span class=\"pre\">2</span></code> for Euler angle ZYZ.\nHere <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code> sets Euler angle ZXZ as the mode.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cs1</span><span class=\"o\">.</span><span class=\"n\">change_cs_mode</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># In the new mode, these properties can be edited</span>\n<span class=\"n\">cs1</span><span class=\"o\">.</span><span class=\"n\">props</span><span class=\"p\">[</span><span class=\"s2\">&quot;Phi&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;10deg&quot;</span>\n<span class=\"n\">cs1</span><span class=\"o\">.</span><span class=\"n\">props</span><span class=\"p\">[</span><span class=\"s2\">&quot;Theta&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;22deg&quot;</span>\n<span class=\"n\">cs1</span><span class=\"o\">.</span><span class=\"n\">props</span><span class=\"p\">[</span><span class=\"s2\">&quot;Psi&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;30deg&quot;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"delete-coordinate-system\">\n<h2>Delete coordinate system<a class=\"headerlink\" href=\"#delete-coordinate-system\" title=\"Permalink to this heading\">#</a></h2>\n<p>Delete the coordinate system.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cs1</span><span class=\"o\">.</span><span class=\"n\">delete</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"sphx-glr-script-out highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>True\n</pre></div>\n</div>\n</section>\n<section id=\"create-coordinate-system-by-defining-axes\">\n<h2>Create coordinate system by defining axes<a class=\"headerlink\" href=\"#create-coordinate-system-by-defining-axes\" title=\"Permalink to this heading\">#</a></h2>\n<p>Create a coordinate system by defining the axes. During creation, you can\nspecify all coordinate system properties.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cs2</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_coordinate_system</span><span class=\"p\">(</span>\n    <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;CS2&quot;</span><span class=\"p\">,</span> <span class=\"n\">origin</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mf\">3.5</span><span class=\"p\">],</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s2\">&quot;axis&quot;</span><span class=\"p\">,</span> <span class=\"n\">x_pointing</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"n\">y_pointing</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n<section id=\"create-coordinate-system-by-defining-euler-angles\">\n<h2>Create coordinate system by defining Euler angles<a class=\"headerlink\" href=\"#create-coordinate-system-by-defining-euler-angles\" title=\"Permalink to this heading\">#</a></h2>\n<p>Create a coordinate system by defining Euler angles.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cs3</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_coordinate_system</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;CS3&quot;</span><span class=\"p\">,</span> <span class=\"n\">origin</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s2\">&quot;zyz&quot;</span><span class=\"p\">,</span> <span class=\"n\">phi</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"n\">psi</span><span class=\"o\">=</span><span class=\"mi\">30</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n<section id=\"create-coordinate-system-by-defining-view\">\n<h2>Create coordinate system by defining view<a class=\"headerlink\" href=\"#create-coordinate-system-by-defining-view\" title=\"Permalink to this heading\">#</a></h2>\n<p>Create a coordinate system by defining the view. Options are <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;iso&quot;</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;XY&quot;</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;XZ&quot;</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;XY&quot;</span></code>. Here <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;iso&quot;</span></code> is specified.\nThe axes are set automatically.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cs4</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_coordinate_system</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;CS4&quot;</span><span class=\"p\">,</span> <span class=\"n\">origin</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">reference_cs</span><span class=\"o\">=</span><span class=\"s2\">&quot;CS3&quot;</span><span class=\"p\">,</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s2\">&quot;view&quot;</span><span class=\"p\">,</span> <span class=\"n\">view</span><span class=\"o\">=</span><span class=\"s2\">&quot;iso&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n<section id=\"create-coordinate-system-by-defining-axis-and-angle-rotation\">\n<h2>Create coordinate system by defining axis and angle rotation<a class=\"headerlink\" href=\"#create-coordinate-system-by-defining-axis-and-angle-rotation\" title=\"Permalink to this heading\">#</a></h2>\n<p>Create a coordinate system by defining the axis and angle rotation. When you\nspecify the axis and angle rotation, this data is automatically translated\nto Euler angles.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cs5</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_coordinate_system</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;CS5&quot;</span><span class=\"p\">,</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s2\">&quot;axisrotation&quot;</span><span class=\"p\">,</span> <span class=\"n\">u</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"mi\">123</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n<section id=\"create-face-coordinate-system\">\n<h2>Create face coordinate system<a class=\"headerlink\" href=\"#create-face-coordinate-system\" title=\"Permalink to this heading\">#</a></h2>\n<p>Face coordinate systems are bound to an object face.\nFirst create a box and then define the face coordinate system on one of its\nfaces. To create the reference face for the face coordinate system, you must\nspecify starting and ending points for the axis.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">box</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_box</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">])</span>\n<span class=\"n\">face</span> <span class=\"o\">=</span> <span class=\"n\">box</span><span class=\"o\">.</span><span class=\"n\">faces</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"n\">fcs1</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_face_coordinate_system</span><span class=\"p\">(</span>\n    <span class=\"n\">face</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"p\">,</span> <span class=\"n\">origin</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"o\">.</span><span class=\"n\">edges</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">axis_position</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"o\">.</span><span class=\"n\">edges</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;FCS1&quot;</span>\n<span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n<section id=\"create-face-coordinate-system-centered-on-face\">\n<h2>Create face coordinate system centered on face<a class=\"headerlink\" href=\"#create-face-coordinate-system-centered-on-face\" title=\"Permalink to this heading\">#</a></h2>\n<p>Create a face coordinate system centered on the face with the X axis pointing\nto the edge vertex.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fcs2</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_face_coordinate_system</span><span class=\"p\">(</span>\n    <span class=\"n\">face</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"p\">,</span> <span class=\"n\">origin</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"p\">,</span> <span class=\"n\">axis_position</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"o\">.</span><span class=\"n\">edges</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">vertices</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;FCS2&quot;</span>\n<span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n<section id=\"swap-x-and-y-axes-of-face-coordinate-system\">\n<h2>Swap X and Y axes of face coordinate system<a class=\"headerlink\" href=\"#swap-x-and-y-axes-of-face-coordinate-system\" title=\"Permalink to this heading\">#</a></h2>\n<p>Swap the X axis and Y axis of the face coordinate system. The X axis is the\npointing <code class=\"docutils literal notranslate\"><span class=\"pre\">axis_position</span></code> by default. You can optionally select the Y axis.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fcs3</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_face_coordinate_system</span><span class=\"p\">(</span><span class=\"n\">face</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"p\">,</span> <span class=\"n\">origin</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"p\">,</span> <span class=\"n\">axis_position</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"o\">.</span><span class=\"n\">edges</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">axis</span><span class=\"o\">=</span><span class=\"s2\">&quot;Y&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Axis can also be changed after coordinate system creation</span>\n<span class=\"n\">fcs3</span><span class=\"o\">.</span><span class=\"n\">props</span><span class=\"p\">[</span><span class=\"s2\">&quot;WhichAxis&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;X&quot;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"apply-a-rotation-around-z-axis\">\n<h2>Apply a rotation around Z axis<a class=\"headerlink\" href=\"#apply-a-rotation-around-z-axis\" title=\"Permalink to this heading\">#</a></h2>\n<p>Apply a rotation around the Z axis. The Z axis of a face coordinate system\nis always orthogonal to the face. A rotation can be applied at definition.\nRotation is expressed in degrees.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fcs4</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_face_coordinate_system</span><span class=\"p\">(</span><span class=\"n\">face</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"p\">,</span> <span class=\"n\">origin</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"p\">,</span> <span class=\"n\">axis_position</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"o\">.</span><span class=\"n\">edges</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"n\">rotation</span><span class=\"o\">=</span><span class=\"mf\">10.3</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Rotation can also be changed after coordinate system creation</span>\n<span class=\"n\">fcs4</span><span class=\"o\">.</span><span class=\"n\">props</span><span class=\"p\">[</span><span class=\"s2\">&quot;ZRotationAngle&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;3deg&quot;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"apply-offset-to-x-and-y-axes-of-face-coordinate-system\">\n<h2>Apply offset to X and Y axes of face coordinate system<a class=\"headerlink\" href=\"#apply-offset-to-x-and-y-axes-of-face-coordinate-system\" title=\"Permalink to this heading\">#</a></h2>\n<p>Apply an offset to the X axis and Y axis of a face coordinate system.\nThe offset is in respect to the face coordinate system itself.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fcs5</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_face_coordinate_system</span><span class=\"p\">(</span>\n    <span class=\"n\">face</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"p\">,</span> <span class=\"n\">origin</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"p\">,</span> <span class=\"n\">axis_position</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"o\">.</span><span class=\"n\">edges</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"n\">offset</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mf\">0.5</span><span class=\"p\">,</span> <span class=\"mf\">0.3</span><span class=\"p\">]</span>\n<span class=\"p\">)</span>\n\n<span class=\"c1\"># The offset can also be changed after the coordinate system is created.</span>\n<span class=\"n\">fcs5</span><span class=\"o\">.</span><span class=\"n\">props</span><span class=\"p\">[</span><span class=\"s2\">&quot;XOffset&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;0.2mm&quot;</span>\n<span class=\"n\">fcs5</span><span class=\"o\">.</span><span class=\"n\">props</span><span class=\"p\">[</span><span class=\"s2\">&quot;YOffset&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;0.1mm&quot;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"create-coordinate-system-relative-to-face-coordinate-system\">\n<h2>Create coordinate system relative to face coordinate system<a class=\"headerlink\" href=\"#create-coordinate-system-relative-to-face-coordinate-system\" title=\"Permalink to this heading\">#</a></h2>\n<p>Create a coordinate system relative to a face coordinate system. Coordinate\nsystems and face coordinate systems interact with each other.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">face</span> <span class=\"o\">=</span> <span class=\"n\">box</span><span class=\"o\">.</span><span class=\"n\">faces</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"n\">fcs6</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_face_coordinate_system</span><span class=\"p\">(</span><span class=\"n\">face</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"p\">,</span> <span class=\"n\">origin</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"p\">,</span> <span class=\"n\">axis_position</span><span class=\"o\">=</span><span class=\"n\">face</span><span class=\"o\">.</span><span class=\"n\">edges</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"n\">cs_fcs</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_coordinate_system</span><span class=\"p\">(</span>\n    <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;CS_FCS&quot;</span><span class=\"p\">,</span> <span class=\"n\">origin</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">reference_cs</span><span class=\"o\">=</span><span class=\"n\">fcs6</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s2\">&quot;view&quot;</span><span class=\"p\">,</span> <span class=\"n\">view</span><span class=\"o\">=</span><span class=\"s2\">&quot;iso&quot;</span>\n<span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n<section id=\"get-all-coordinate-systems\">\n<h2>Get all coordinate systems<a class=\"headerlink\" href=\"#get-all-coordinate-systems\" title=\"Permalink to this heading\">#</a></h2>\n<p>Get all coordinate systems.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">css</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">coordinate_systems</span>\n<span class=\"n\">names</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">css</span><span class=\"p\">]</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">names</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"sphx-glr-script-out highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>[&#39;CS_FCS&#39;, &#39;Face_CS_XYIEVS&#39;, &#39;Face_CS_29R7BZ&#39;, &#39;Face_CS_SQO0D3&#39;, &#39;Face_CS_QZRVF1&#39;, &#39;FCS2&#39;, &#39;FCS1&#39;, &#39;CS5&#39;, &#39;CS4&#39;, &#39;CS3&#39;, &#39;CS2&#39;]\n</pre></div>\n</div>\n</section>\n<section id=\"select-coordinate-system\">\n<h2>Select coordinate system<a class=\"headerlink\" href=\"#select-coordinate-system\" title=\"Permalink to this heading\">#</a></h2>\n<p>Select an existing coordinate system.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">css</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">coordinate_systems</span>\n<span class=\"n\">cs_selected</span> <span class=\"o\">=</span> <span class=\"n\">css</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"n\">cs_selected</span><span class=\"o\">.</span><span class=\"n\">delete</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"sphx-glr-script-out highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>True\n</pre></div>\n</div>\n</section>\n<section id=\"get-point-coordinate-under-another-coordinate-system\">\n<h2>Get point coordinate under another coordinate system<a class=\"headerlink\" href=\"#get-point-coordinate-under-another-coordinate-system\" title=\"Permalink to this heading\">#</a></h2>\n<p>Get a point coordinate under another coordinate system. A point coordinate\ncan be translated in respect to any coordinate system.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_box</span><span class=\"p\">([</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">],</span> <span class=\"s2\">&quot;Box1&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"p\">[</span><span class=\"s2\">&quot;Box1&quot;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">faces</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">vertices</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">position</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;Global: &quot;</span><span class=\"p\">,</span> <span class=\"n\">p</span><span class=\"p\">)</span>\n<span class=\"n\">p2</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">global_to_cs</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"s2\">&quot;CS5&quot;</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;CS5 :&quot;</span><span class=\"p\">,</span> <span class=\"n\">p2</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"sphx-glr-script-out highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>Global:  [10.0, -10.0, 10.0]\nCS5 : [9.999999999999998, 13.833096029604514, 2.940315329303967]\n</pre></div>\n</div>\n</section>\n<section id=\"close-aedt\">\n<h2>Close AEDT<a class=\"headerlink\" href=\"#close-aedt\" title=\"Permalink to this heading\">#</a></h2>\n<p>After the simulaton completes, you can close AEDT or release it using the\n<code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">pyaedt.Desktop.release_desktop()</span></code> method.\nAll methods provide for saving the project before closing.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">release_desktop</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"sphx-glr-script-out highlight-none notranslate\"><div class=\"highlight\"><pre><span></span>True\n</pre></div>\n</div>\n<p class=\"sphx-glr-timing\"><strong>Total running time of the script:</strong> ( 0 minutes  19.062 seconds)</p>\n<div class=\"sphx-glr-footer sphx-glr-footer-example docutils container\" id=\"sphx-glr-download-examples-01-modeling-setup-hfss-coordinatesystem-py\">\n<div class=\"sphx-glr-download sphx-glr-download-python docutils container\">\n<p><a class=\"reference download internal\" download=\"\" href=\"../../../_downloads/931c6cabb64ed6b3b63808a73c05bd08/HFSS_CoordinateSystem.py\"><code class=\"xref download docutils literal notranslate\"><span class=\"pre\">Download</span> <span class=\"pre\">Python</span> <span class=\"pre\">source</span> <span class=\"pre\">code:</span> <span class=\"pre\">HFSS_CoordinateSystem.py</span></code></a></p>\n</div>\n<div class=\"sphx-glr-download sphx-glr-download-jupyter docutils container\">\n<p><a class=\"reference download internal\" download=\"\" href=\"../../../_downloads/b5072477a88912c80a522cd6270dccab/HFSS_CoordinateSystem.ipynb\"><code class=\"xref download docutils literal notranslate\"><span class=\"pre\">Download</span> <span class=\"pre\">Jupyter</span> <span class=\"pre\">notebook:</span> <span class=\"pre\">HFSS_CoordinateSystem.ipynb</span></code></a></p>\n</div>\n</div>\n<p class=\"sphx-glr-signature\"><a class=\"reference external\" href=\"https://sphinx-gallery.github.io\">Gallery generated by Sphinx-Gallery</a></p>\n</section>\n</section>\n", "metatags": "<meta name=\"generator\" content=\"Docutils 0.19: https://docutils.sourceforge.io/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["examples/01-Modeling-Setup/Optimetrics", "General: optimetrics setup", "N", "next"], ["examples/01-Modeling-Setup/Configurations", "General: configuration files", "P", "previous"]], "sourcename": "examples/01-Modeling-Setup/HFSS_CoordinateSystem.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">General: coordinate system creation</a><ul>\n<li><a class=\"reference internal\" href=\"#perform-required-imports\">Perform required imports</a></li>\n<li><a class=\"reference internal\" href=\"#set-non-graphical-mode\">Set non-graphical mode</a></li>\n<li><a class=\"reference internal\" href=\"#launch-aedt-in-graphical-mode\">Launch AEDT in graphical mode</a></li>\n<li><a class=\"reference internal\" href=\"#insert-hfss-design\">Insert HFSS design</a></li>\n<li><a class=\"reference internal\" href=\"#create-coordinate-system\">Create coordinate system</a></li>\n<li><a class=\"reference internal\" href=\"#modify-coordinate-system\">Modify coordinate system</a></li>\n<li><a class=\"reference internal\" href=\"#rename-coordinate-system\">Rename coordinate system</a></li>\n<li><a class=\"reference internal\" href=\"#change-coordinate-system-mode\">Change coordinate system mode</a></li>\n<li><a class=\"reference internal\" href=\"#delete-coordinate-system\">Delete coordinate system</a></li>\n<li><a class=\"reference internal\" href=\"#create-coordinate-system-by-defining-axes\">Create coordinate system by defining axes</a></li>\n<li><a class=\"reference internal\" href=\"#create-coordinate-system-by-defining-euler-angles\">Create coordinate system by defining Euler angles</a></li>\n<li><a class=\"reference internal\" href=\"#create-coordinate-system-by-defining-view\">Create coordinate system by defining view</a></li>\n<li><a class=\"reference internal\" href=\"#create-coordinate-system-by-defining-axis-and-angle-rotation\">Create coordinate system by defining axis and angle rotation</a></li>\n<li><a class=\"reference internal\" href=\"#create-face-coordinate-system\">Create face coordinate system</a></li>\n<li><a class=\"reference internal\" href=\"#create-face-coordinate-system-centered-on-face\">Create face coordinate system centered on face</a></li>\n<li><a class=\"reference internal\" href=\"#swap-x-and-y-axes-of-face-coordinate-system\">Swap X and Y axes of face coordinate system</a></li>\n<li><a class=\"reference internal\" href=\"#apply-a-rotation-around-z-axis\">Apply a rotation around Z axis</a></li>\n<li><a class=\"reference internal\" href=\"#apply-offset-to-x-and-y-axes-of-face-coordinate-system\">Apply offset to X and Y axes of face coordinate system</a></li>\n<li><a class=\"reference internal\" href=\"#create-coordinate-system-relative-to-face-coordinate-system\">Create coordinate system relative to face coordinate system</a></li>\n<li><a class=\"reference internal\" href=\"#get-all-coordinate-systems\">Get all coordinate systems</a></li>\n<li><a class=\"reference internal\" href=\"#select-coordinate-system\">Select coordinate system</a></li>\n<li><a class=\"reference internal\" href=\"#get-point-coordinate-under-another-coordinate-system\">Get point coordinate under another coordinate system</a></li>\n<li><a class=\"reference internal\" href=\"#close-aedt\">Close AEDT</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "examples/01-Modeling-Setup/HFSS_CoordinateSystem", "sidebars": ["search-field.html", "sidebar-nav-bs.html"], "customsidebar": null, "alabaster_version": "0.7.12", "theme_show_toc_level": 1, "theme_logo": {}}