{"parents": [{"link": "../", "title": "Getting started"}], "prev": {"link": "../Installation/", "title": "Installation"}, "next": {"link": "../../User_guide/", "title": "User guide"}, "title": "Client-server", "meta": {}, "body": "<section id=\"client-server\">\n<h1>Client-server<a class=\"headerlink\" href=\"#client-server\" title=\"Permalink to this heading\">#</a></h1>\n<p>You can launch PyAEDT on a remote machine if these conditions are met:</p>\n<ul class=\"simple\">\n<li><p>PyAEDT is installed on client and server machines. (There is no need to have AEDT\ninstalled on the client machine.)</p></li>\n<li><p>The same Python version is used on the client and server machines. (CPython 3.6+ or\nIronPython is embedded in the AEDT installation.)</p></li>\n</ul>\n<section id=\"grpc-connection-in-aedt-2022-r2-and-later\">\n<h2>gRPC connection in AEDT 2022 R2 and later<a class=\"headerlink\" href=\"#grpc-connection-in-aedt-2022-r2-and-later\" title=\"Permalink to this heading\">#</a></h2>\n<p>In AEDT 2022 R2 and later, PyAEDT fully supports the gRPC API (except for EDB):</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Launch the latest installed version of AEDT in graphical mode.</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt</span> <span class=\"kn\">import</span> <span class=\"n\">Hfss</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt</span> <span class=\"kn\">import</span> <span class=\"n\">settings</span>\n<span class=\"n\">settings</span><span class=\"o\">.</span><span class=\"n\">use_grpc_api</span><span class=\"o\">=</span><span class=\"kc\">True</span>\n<span class=\"n\">hfss</span> <span class=\"o\">=</span> <span class=\"n\">Hfss</span><span class=\"p\">(</span><span class=\"n\">machine</span><span class=\"o\">=</span><span class=\"s2\">&quot;fullmachinename&quot;</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"n\">portnumber</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>If the <code class=\"docutils literal notranslate\"><span class=\"pre\">machine</span></code> argument is provided and the machine is a remote machine, AEDT\nmust be up and running on the remote server listening on the specified port.</p>\n<p>To start AEDT in listening mode on the remote machine:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">path</span><span class=\"o\">/</span><span class=\"n\">to</span><span class=\"o\">/</span><span class=\"n\">aedt</span><span class=\"o\">/</span><span class=\"n\">ansysedt</span><span class=\"o\">.</span><span class=\"n\">exe</span> <span class=\"o\">-</span><span class=\"n\">grpcsrv</span> <span class=\"n\">portnumber</span>  <span class=\"c1\">#windows</span>\n<span class=\"n\">path</span><span class=\"o\">/</span><span class=\"n\">to</span><span class=\"o\">/</span><span class=\"n\">aedt</span><span class=\"o\">/</span><span class=\"n\">ansysedt</span> <span class=\"o\">-</span><span class=\"n\">grpcsrv</span> <span class=\"n\">portnumber</span>   <span class=\"c1\">#linux</span>\n</pre></div>\n</div>\n<p>If the connection is local, the <code class=\"docutils literal notranslate\"><span class=\"pre\">machine</span></code> argument can remain empty. PyAEDT then\nstarts the AEDT session automatically. Machine and port arguments are available to\nall applications except EDB.</p>\n</section>\n<section id=\"legacy-approach\">\n<h2>Legacy approach<a class=\"headerlink\" href=\"#legacy-approach\" title=\"Permalink to this heading\">#</a></h2>\n<p>Usage examples follow for launching AEDT 2022 R1 or earlier.</p>\n</section>\n</section>\n<section id=\"windows-server\">\n<h1>Windows server<a class=\"headerlink\" href=\"#windows-server\" title=\"Permalink to this heading\">#</a></h1>\n<p>Launch on a Windows server:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Launch the latest installed version of AEDT in graphical mode.</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.common_rpc</span> <span class=\"kn\">import</span> <span class=\"n\">launch_server</span>\n<span class=\"n\">launch_server</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</section>\n<section id=\"linux-and-windows-clients\">\n<h1>Linux and Windows clients<a class=\"headerlink\" href=\"#linux-and-windows-clients\" title=\"Permalink to this heading\">#</a></h1>\n<p>Launch on a Linux or Windows client:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Launch the latest installed version of AEDT in graphical mode.</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.common_rpc</span> <span class=\"kn\">import</span> <span class=\"n\">client</span>\n<span class=\"n\">my_client</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"p\">(</span><span class=\"s2\">&quot;full_name_of_server&quot;</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">18000</span><span class=\"p\">)</span>\n<span class=\"n\">circuit</span> <span class=\"o\">=</span> <span class=\"n\">my_client</span><span class=\"o\">.</span><span class=\"n\">root</span><span class=\"o\">.</span><span class=\"n\">circuit</span><span class=\"p\">(</span><span class=\"n\">specified_version</span><span class=\"o\">=</span><span class=\"s2\">&quot;2022.1&quot;</span><span class=\"p\">,</span> <span class=\"n\">non_graphical</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"c1\"># code like locally</span>\n<span class=\"o\">...</span>\n</pre></div>\n</div>\n</section>\n<section id=\"linux-server\">\n<h1>Linux server<a class=\"headerlink\" href=\"#linux-server\" title=\"Permalink to this heading\">#</a></h1>\n<p>To bypass current IronPython limits, you can launch PyAEDT on a Linux machine:</p>\n<ol class=\"arabic\">\n<li><p>Using <code class=\"docutils literal notranslate\"><span class=\"pre\">pip</span></code>, install PyAEDT 0.4.23 or later on a Linux machine.</p></li>\n<li><p>Launch CPython and run PyAEDT on the same machine:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Launch the latest installed version of PyAEDT in non-graphical mode.</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.common_rpc</span> <span class=\"kn\">import</span> <span class=\"n\">launch_ironpython_server</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">launch_ironpython_server</span><span class=\"p\">(</span><span class=\"n\">aedt_path</span><span class=\"o\">=</span><span class=\"s2\">&quot;/path/to/ansys/executable/folder&quot;</span><span class=\"p\">,</span> <span class=\"n\">non_graphical</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">18000</span><span class=\"p\">)</span>\n<span class=\"n\">hfss</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">root</span><span class=\"o\">.</span><span class=\"n\">hfss</span><span class=\"p\">()</span>\n<span class=\"c1\"># put your code here</span>\n</pre></div>\n</div>\n</li>\n<li><p>Launch CPython Server on a machine and connect to the server from another machine:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Launch the latest installed version of PyAEDT in non-graphical mode.</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">pyaedt.common_rpc</span> <span class=\"kn\">import</span> <span class=\"n\">launch_ironpython_server</span>\n<span class=\"n\">launch_ironpython_server</span><span class=\"p\">(</span><span class=\"n\">aedt_path</span><span class=\"o\">=</span><span class=\"s2\">&quot;/path/to/ansys/executable/folder&quot;</span><span class=\"p\">,</span>\n                         <span class=\"n\">launch_client</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n                         <span class=\"n\">non_graphical</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n                         <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">18000</span><span class=\"p\">)</span>\n<span class=\"c1\"># connect to the port 18000 from the client machine</span>\n</pre></div>\n</div>\n</li>\n<li><p>If the method returns a list or dictionary, use this method to work around an\nissue with CPython handling:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">box1</span> <span class=\"o\">=</span> <span class=\"n\">hfss</span><span class=\"o\">.</span><span class=\"n\">modeler</span><span class=\"o\">.</span><span class=\"n\">create_box</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"c1\"># convert_remote_object method convert remote ironpython list to local cpython.</span>\n<span class=\"n\">faces</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">convert_remote_object</span><span class=\"p\">(</span><span class=\"n\">box1</span><span class=\"o\">.</span><span class=\"n\">faces</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</li>\n</ol>\n<a class=\"reference internal image-reference\" href=\"../../_images/IronPython2Cpython.png\"><img alt=\"Electronics Desktop Launched\" src=\"../../_images/IronPython2Cpython.png\" style=\"width: 800px;\" /></a>\n</section>\n", "metatags": "<meta name=\"generator\" content=\"Docutils 0.19: https://docutils.sourceforge.io/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["User_guide/index", "User guide", "N", "next"], ["Getting_started/Installation", "Installation", "P", "previous"]], "sourcename": "Getting_started/ClientServer.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Client-server</a><ul>\n<li><a class=\"reference internal\" href=\"#grpc-connection-in-aedt-2022-r2-and-later\">gRPC connection in AEDT 2022 R2 and later</a></li>\n<li><a class=\"reference internal\" href=\"#legacy-approach\">Legacy approach</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#windows-server\">Windows server</a></li>\n<li><a class=\"reference internal\" href=\"#linux-and-windows-clients\">Linux and Windows clients</a></li>\n<li><a class=\"reference internal\" href=\"#linux-server\">Linux server</a></li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "Getting_started/ClientServer", "sidebars": ["search-field.html", "sidebar-nav-bs.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.12", "theme_show_toc_level": 1, "theme_logo": {}}